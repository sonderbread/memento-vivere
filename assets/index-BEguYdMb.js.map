{"version":3,"file":"index-BEguYdMb.js","sources":["../../node_modules/react/cjs/react-jsx-runtime.production.min.js","../../node_modules/react/jsx-runtime.js","../../node_modules/react-dom/client.js","../../src/components/Icons.jsx","../../src/components/ActivityItem.jsx","../../src/components/TimerDisplay.jsx","../../src/constants/activities.js","../../src/components/AddActivityForm.jsx","../../src/components/SettingsModal.jsx","../../src/components/AboutModal.jsx","../../src/components/OnboardingModal.jsx","../../src/hooks/useActivities.js","../../src/services/androidAPI.js","../../src/hooks/useLocalStorage.js","../../src/App.jsx","../../src/hooks/useTimers.js","../../src/hooks/useLogs.js","../../src/main.jsx"],"sourcesContent":["/**\n * @license React\n * react-jsx-runtime.production.min.js\n *\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n'use strict';var f=require(\"react\"),k=Symbol.for(\"react.element\"),l=Symbol.for(\"react.fragment\"),m=Object.prototype.hasOwnProperty,n=f.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,p={key:!0,ref:!0,__self:!0,__source:!0};\nfunction q(c,a,g){var b,d={},e=null,h=null;void 0!==g&&(e=\"\"+g);void 0!==a.key&&(e=\"\"+a.key);void 0!==a.ref&&(h=a.ref);for(b in a)m.call(a,b)&&!p.hasOwnProperty(b)&&(d[b]=a[b]);if(c&&c.defaultProps)for(b in a=c.defaultProps,a)void 0===d[b]&&(d[b]=a[b]);return{$$typeof:k,type:c,key:e,ref:h,props:d,_owner:n.current}}exports.Fragment=l;exports.jsx=q;exports.jsxs=q;\n","'use strict';\n\nif (process.env.NODE_ENV === 'production') {\n  module.exports = require('./cjs/react-jsx-runtime.production.min.js');\n} else {\n  module.exports = require('./cjs/react-jsx-runtime.development.js');\n}\n","'use strict';\n\nvar m = require('react-dom');\nif (process.env.NODE_ENV === 'production') {\n  exports.createRoot = m.createRoot;\n  exports.hydrateRoot = m.hydrateRoot;\n} else {\n  var i = m.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;\n  exports.createRoot = function(c, o) {\n    i.usingClientEntryPoint = true;\n    try {\n      return m.createRoot(c, o);\n    } finally {\n      i.usingClientEntryPoint = false;\n    }\n  };\n  exports.hydrateRoot = function(c, h, o) {\n    i.usingClientEntryPoint = true;\n    try {\n      return m.hydrateRoot(c, h, o);\n    } finally {\n      i.usingClientEntryPoint = false;\n    }\n  };\n}\n","import React from 'react';\n\nexport const Play = ({ size = 24 }) => (\n    <svg width={size} height={size} viewBox=\"0 0 24 24\" fill=\"currentColor\">\n        <polygon points=\"5 3 19 12 5 21\"></polygon>\n    </svg>\n);\n\nexport const Pause = ({ size = 24 }) => (\n    <svg width={size} height={size} viewBox=\"0 0 24 24\" fill=\"currentColor\">\n        <rect x=\"6\" y=\"3\" width=\"4\" height=\"18\"></rect>\n        <rect x=\"14\" y=\"3\" width=\"4\" height=\"18\"></rect>\n    </svg>\n);\n\nexport const RotateCcw = ({ size = 24 }) => (\n    <svg width={size} height={size} viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\">\n        <polyline points=\"3 7 3 3 7 3\"></polyline>\n        <path d=\"M6.88 6.88A6 6 0 1 1 12 18a6 6 0 0 1-5.12-11.12\"></path>\n    </svg>\n);\n\nexport const Trash2 = ({ size = 24 }) => (\n    <svg width={size} height={size} viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\">\n        <polyline points=\"3 6 5 6 21 6\"></polyline>\n        <path d=\"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2\"></path>\n        <line x1=\"10\" y1=\"11\" x2=\"10\" y2=\"17\"></line>\n        <line x1=\"14\" y1=\"11\" x2=\"14\" y2=\"17\"></line>\n    </svg>\n);\n\nexport const Plus = ({ size = 24 }) => (\n    <svg width={size} height={size} viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\">\n        <line x1=\"12\" y1=\"5\" x2=\"12\" y2=\"19\"></line>\n        <line x1=\"5\" y1=\"12\" x2=\"19\" y2=\"12\"></line>\n    </svg>\n);\n\nexport const Edit2 = ({ size = 24 }) => (\n    <svg width={size} height={size} viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\">\n        <path d=\"M17 3a2.828 2.828 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5L17 3z\"></path>\n    </svg>\n);\n\nexport const Check = ({ size = 24 }) => (\n    <svg width={size} height={size} viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\">\n        <polyline points=\"20 6 9 17 4 12\"></polyline>\n    </svg>\n);\n\nexport const X = ({ size = 24 }) => (\n    <svg width={size} height={size} viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\">\n        <line x1=\"18\" y1=\"6\" x2=\"6\" y2=\"18\"></line>\n        <line x1=\"6\" y1=\"6\" x2=\"18\" y2=\"18\"></line>\n    </svg>\n);\n\nexport const Moon = ({ size = 24 }) => (\n    <svg width={size} height={size} viewBox=\"0 0 24 24\" fill=\"currentColor\">\n        <path d=\"M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z\"></path>\n    </svg>\n);\n\nexport const Sun = ({ size = 24 }) => (\n    <svg width={size} height={size} viewBox=\"0 0 24 24\" fill=\"currentColor\">\n        <circle cx=\"12\" cy=\"12\" r=\"5\"></circle>\n        <line x1=\"12\" y1=\"1\" x2=\"12\" y2=\"3\"></line>\n        <line x1=\"12\" y1=\"21\" x2=\"12\" y2=\"23\"></line>\n        <line x1=\"4.22\" y1=\"4.22\" x2=\"5.64\" y2=\"5.64\"></line>\n        <line x1=\"18.36\" y1=\"18.36\" x2=\"19.78\" y2=\"19.78\"></line>\n        <line x1=\"1\" y1=\"12\" x2=\"3\" y2=\"12\"></line>\n        <line x1=\"21\" y1=\"12\" x2=\"23\" y2=\"12\"></line>\n        <line x1=\"4.22\" y1=\"19.78\" x2=\"5.64\" y2=\"18.36\"></line>\n        <line x1=\"18.36\" y1=\"5.64\" x2=\"19.78\" y2=\"4.22\"></line>\n    </svg>\n);\n\nexport const Eye = ({ size = 24 }) => (\n    <svg width={size} height={size} viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\">\n        <path d=\"M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z\"></path>\n        <circle cx=\"12\" cy=\"12\" r=\"3\"></circle>\n    </svg>\n);\n\nexport const EyeOff = ({ size = 24 }) => (\n    <svg width={size} height={size} viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\">\n        <path d=\"M17.94 17.94A10.07 10.07 0 0 1 12 20c-7 0-11-8-11-8a18.45 18.45 0 0 1 5.06-5.94M9.9 4.24A9.12 9.12 0 0 1 12 4c7 0 11 8 11 8a18.5 18.5 0 0 1-2.16 3.19m-6.72-1.07a3 3 0 1 1-4.24-4.24\"></path>\n        <line x1=\"1\" y1=\"1\" x2=\"23\" y2=\"23\"></line>\n    </svg>\n);\n\nexport const Settings = ({ size = 24 }) => (\n    <svg width={size} height={size} viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\">\n        <circle cx=\"12\" cy=\"12\" r=\"3\"></circle>\n        <path d=\"M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 0 1 0 2.83 2 2 0 0 1-2.83 0l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-2 2 2 2 0 0 1-2-2v-.09A1.65 1.65 0 0 0 9 19.4a1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 0 1-2.83 0 2 2 0 0 1 0-2.83l.06-.06a1.65 1.65 0 0 0 .33-1.82 1.65 1.65 0 0 0-1.51-1H3a2 2 0 0 1-2-2 2 2 0 0 1 2-2h.09A1.65 1.65 0 0 0 4.6 9a1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 0 1 0-2.83 2 2 0 0 1 2.83 0l.06.06a1.65 1.65 0 0 0 1.82.33H9a1.65 1.65 0 0 0 1 1.51V3a2 2 0 0 1 2-2 2 2 0 0 1 2 2v.09a1.65 1.65 0 0 0 1 1.51 1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 0 1 2.83 0 2 2 0 0 1 0 2.83l-.06.06a1.65 1.65 0 0 0-.33 1.82V9a1.65 1.65 0 0 0 1.51 1H21a2 2 0 0 1 2 2 2 2 0 0 1-2 2h-.09a1.65 1.65 0 0 0-1.51 1z\"></path>\n    </svg>\n);\n\nexport const Info = ({ size = 24 }) => (\n    <svg width={size} height={size} viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\">\n        <circle cx=\"12\" cy=\"12\" r=\"10\"></circle>\n        <line x1=\"12\" y1=\"16\" x2=\"12\" y2=\"12\"></line>\n        <line x1=\"12\" y1=\"8\" x2=\"12.01\" y2=\"8\"></line>\n    </svg>\n);\n\nexport const FileText = ({ size = 24 }) => (\n    <svg width={size} height={size} viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\">\n        <path d=\"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z\"></path>\n        <polyline points=\"14 2 14 8 20 8\"></polyline>\n        <line x1=\"16\" y1=\"13\" x2=\"8\" y2=\"13\"></line>\n        <line x1=\"16\" y1=\"17\" x2=\"8\" y2=\"17\"></line>\n        <polyline points=\"10 9 9 9 8 9\"></polyline>\n    </svg>\n);","import React from 'react';\nimport { Play, Pause, Edit2, Check, X, Trash2 } from './Icons';\n\nfunction ActivityItem({\n    activity,\n    isActive,\n    isRunning,\n    isPaused,\n    isEditing,\n    editValues,\n    onStartTimer,\n    onDelete,\n    onEdit,\n    onSaveEdit,\n    onCancelEdit,\n    onEditChange,\n    darkMode\n}) {\n    if (isEditing) {\n        return (\n            <div className={`${darkMode ? 'bg-gray-700 border-2 border-indigo-400' : 'bg-gray-50 border-2 border-indigo-300'} rounded-lg p-4 transition-colors`}>\n                <div className=\"grid grid-cols-1 md:grid-cols-4 gap-3 mb-3\">\n                    <input\n                        type=\"text\"\n                        value={editValues.name}\n                        onChange={(e) => onEditChange('name', e.target.value)}\n                        className={`border rounded px-3 py-2 focus:outline-none focus:border-indigo-500 ${darkMode ? 'bg-gray-600 border-gray-500 text-white' : 'border-gray-300'}`}\n                    />\n                    <select\n                        value={editValues.type}\n                        onChange={(e) => onEditChange('type', e.target.value)}\n                        className={`border rounded px-3 py-2 focus:outline-none focus:border-indigo-500 ${darkMode ? 'bg-gray-600 border-gray-500 text-white' : 'border-gray-300'}`}\n                    >\n                        <option value=\"credit\">Credit</option>\n                        <option value=\"debit\">Debit</option>\n                    </select>\n                    {editValues.mode === 'single' ? (\n                        <input\n                            type=\"number\"\n                            value={editValues.points}\n                            onChange={(e) => onEditChange('points', parseInt(e.target.value) || 1)}\n                            min=\"1\"\n                            step=\"1\"\n                            className={`border rounded px-3 py-2 focus:outline-none focus:border-indigo-500 ${darkMode ? 'bg-gray-600 border-gray-500 text-white' : 'border-gray-300'}`}\n                        />\n                    ) : (\n                        <input\n                            type=\"number\"\n                            value={editValues.rate}\n                            onChange={(e) => onEditChange('rate', parseFloat(e.target.value) || 1)}\n                            min=\"0.1\"\n                            step=\"0.1\"\n                            className={`border rounded px-3 py-2 focus:outline-none focus:border-indigo-500 ${darkMode ? 'bg-gray-600 border-gray-500 text-white' : 'border-gray-300'}`}\n                        />\n                    )}\n                    <div />\n                </div>\n                {editValues.mode === 'countdown' && (\n                    <div className=\"mb-3 flex items-center gap-2\">\n                        <input\n                            type=\"checkbox\"\n                            checked={editValues.isCountdown || false}\n                            onChange={(e) => onEditChange('isCountdown', e.target.checked)}\n                            id={`countdown-${editValues.id}`}\n                            className=\"w-4 h-4\"\n                        />\n                        <label htmlFor={`countdown-${editValues.id}`} className={`text-sm ${darkMode ? 'text-gray-300' : 'text-gray-700'}`}>\n                            Countdown timer\n                        </label>\n                    </div>\n                )}\n                <div className=\"flex gap-2\">\n                    <button\n                        onClick={onSaveEdit}\n                        className=\"flex items-center gap-1 bg-green-500 hover:bg-green-600 text-white px-3 py-2 rounded text-sm font-semibold transition\"\n                    >\n                        <Check size={16} /> Save\n                    </button>\n                    <button\n                        onClick={onCancelEdit}\n                        className=\"flex items-center gap-1 bg-gray-500 hover:bg-gray-600 text-white px-3 py-2 rounded text-sm font-semibold transition\"\n                    >\n                        <X size={16} /> Cancel\n                    </button>\n                    <button\n                        onClick={onDelete}\n                        className=\"flex items-center gap-1 bg-red-500 hover:bg-red-600 text-white px-3 py-2 rounded text-sm font-semibold transition ml-auto\"\n                    >\n                        <Trash2 size={16} /> Delete\n                    </button>\n                </div>\n            </div>\n        );\n    }\n\n    return (\n        <div className={`flex items-center justify-between p-4 rounded-lg border-2 transition ${\n            isActive\n                ? darkMode ? 'bg-indigo-900 border-indigo-500' : 'bg-indigo-100 border-indigo-500'\n                : darkMode ? 'bg-gray-700 border-gray-600' : 'bg-gray-50 border-gray-200'\n        }`}>\n            <div className=\"flex-1\">\n                <h3 className={`font-bold ${darkMode ? 'text-white' : 'text-gray-800'}`}>{activity.name}</h3>\n                <p className={`text-sm ${darkMode ? 'text-gray-400' : 'text-gray-600'}`}>\n                    {activity.mode === 'single' ? `${activity.points} pts` : `${activity.rate} pts/min`}\n                </p>\n            </div>\n            <div className=\"flex gap-2\">\n                <button\n                    onClick={onStartTimer}\n                    className={`flex items-center gap-1 px-4 py-2 rounded font-semibold transition text-white ${\n                        activity.mode === 'single'\n                            ? 'bg-green-500 hover:bg-green-600'\n                            : isActive\n                            ? 'bg-indigo-600 hover:bg-indigo-700'\n                            : 'bg-indigo-500 hover:bg-indigo-600'\n                    }`}\n                >\n                    {activity.mode === 'single' ? (\n                        <>✓ Complete</>\n                    ) : isActive ? (\n                        isPaused ? (\n                            <><Play size={16} /> Resume</>\n                        ) : (\n                            <><Pause size={16} /> Pause</>\n                        )\n                    ) : (\n                        <><Play size={16} /> Start</>\n                    )}\n                </button>\n                <button\n                    onClick={onEdit}\n                    className=\"flex items-center gap-1 bg-blue-500 hover:bg-blue-600 text-white px-3 py-2 rounded font-semibold transition\"\n                >\n                    <Edit2 size={16} />\n                </button>\n            </div>\n        </div>\n    );\n}\n\nexport default ActivityItem;","import React from 'react';\nimport { Pause, Play, RotateCcw } from './Icons';\nimport { formatTime } from '../utils/timeUtils';\n\nfunction TimerDisplay({\n    activity,\n    displayTime,\n    elapsedTime,\n    isRunning,\n    isPaused,\n    onPause,\n    onResume,\n    onStop,\n    onReset,\n    darkMode\n}) {\n    if (!activity) return null;\n\n    const isCountdown = activity.isCountdown || activity.mode === 'countdown';\n    const actualElapsedTime = elapsedTime || (isCountdown ? 0 : displayTime);\n\n    // Calculate estimated points earned based on elapsed time\n    const pointsEarned = Math.round((actualElapsedTime / 60) * activity.rate);\n    const pointsSign = activity.type === 'credit' ? '+' : '-';\n\n    return (\n        <div className={`rounded-lg p-4 border-l-4 w-full ${\n            isCountdown\n                ? darkMode ? 'bg-gradient-to-r from-orange-900 to-yellow-900 border-orange-500' : 'bg-gradient-to-r from-orange-50 to-yellow-50 border-orange-400'\n                : darkMode ? 'bg-gradient-to-r from-indigo-900 to-blue-900 border-indigo-500' : 'bg-gradient-to-r from-indigo-50 to-blue-50 border-indigo-500'\n        }`}>\n            <div className=\"mb-3 flex items-start justify-between\">\n                <div>\n                    <h3 className={`font-bold text-base truncate ${darkMode ? 'text-white' : 'text-gray-800'}`}>\n                        {activity.name}\n                    </h3>\n                    <p className={`text-sm ${darkMode ? 'text-gray-400' : 'text-gray-600'}`}>\n                        {activity.rate} pts/min\n                    </p>\n                </div>\n                {isCountdown && (\n                    <span className={`px-2 py-1 text-xs font-bold rounded ${darkMode ? 'bg-orange-800 text-orange-200' : 'bg-orange-200 text-orange-800'}`}>\n                        ⏱ COUNTDOWN\n                    </span>\n                )}\n            </div>\n\n            <div className=\"text-center mb-4\">\n                <div className={`text-5xl font-bold font-mono ${isCountdown ? (darkMode ? 'text-orange-400' : 'text-orange-600') : (darkMode ? 'text-indigo-400' : 'text-indigo-600')}`}>\n                    {formatTime(displayTime)}\n                </div>\n                <p className={`text-xs mt-1 ${darkMode ? 'text-gray-400' : 'text-gray-600'}`}>\n                    {isCountdown ? (\n                        <>{formatTime(actualElapsedTime)} elapsed • {pointsSign}{pointsEarned} pts</>\n                    ) : (\n                        <>≈ {pointsSign}{pointsEarned} pts</>\n                    )}\n                </p>\n            </div>\n\n            <div className=\"flex flex-col gap-2 w-full\">\n                <button\n                    onClick={isRunning ? onPause : onResume}\n                    className=\"w-full flex items-center justify-center gap-2 bg-green-500 hover:bg-green-600 text-white px-4 py-3 rounded text-sm font-semibold transition\"\n                >\n                    {isPaused ? <Play size={18} /> : <Pause size={18} />}\n                    {isPaused ? 'Resume' : 'Pause'}\n                </button>\n                <div className=\"flex gap-2 w-full\">\n                    {onReset && (\n                        <button\n                            onClick={onReset}\n                            className=\"flex-1 flex items-center justify-center gap-1 bg-gray-500 hover:bg-gray-600 text-white px-3 py-3 rounded text-sm font-semibold transition\"\n                        >\n                            <RotateCcw size={16} />\n                            Reset\n                        </button>\n                    )}\n                    <button\n                        onClick={onStop}\n                        className=\"flex-1 flex items-center justify-center gap-1 bg-red-500 hover:bg-red-600 text-white px-3 py-3 rounded text-sm font-semibold transition\"\n                    >\n                        Stop & Save\n                    </button>\n                </div>\n            </div>\n\n            {isCountdown && (\n                <p className={`text-sm mt-2 ${darkMode ? 'text-gray-400' : 'text-gray-600'}`}>\n                    {displayTime <= 0 ? 'Timer complete!' : 'Time remaining'}\n                </p>\n            )}\n        </div>\n    );\n}\n\nexport default TimerDisplay;","export const SUGGESTED_ACTIVITIES = [\n    // Credit (Earning) Activities - Alphabetized\n    { name: 'Cleaning / Dishes', rate: 1, type: 'credit', mode: 'stopwatch' },\n    { name: 'Dishwasher Running', rate: 0.5, type: 'credit', isCountdown: true, mode: 'countdown' },\n    { name: 'Dog / Fetch', rate: 1, type: 'credit', mode: 'stopwatch' },\n    { name: 'Education / Learning a new skill', rate: 0.5, type: 'credit', mode: 'stopwatch' },\n    { name: 'Emails/Calendar', rate: 1, type: 'credit', mode: 'stopwatch' },\n    { name: 'Exercise', rate: 2, type: 'credit', mode: 'stopwatch' },\n    { name: 'Grocery Shopping', rate: 1, type: 'credit', mode: 'stopwatch' },\n    { name: 'Laundry Running', rate: 0.5, type: 'credit', isCountdown: true, mode: 'countdown' },\n    { name: 'Put away laundry (1 load)', points: 15, type: 'credit', mode: 'single' },\n    { name: 'Put away laundry while it\\'s still hot!', points: 30, type: 'credit', mode: 'single' },\n    { name: 'Reading a book for work/improvement', rate: 0.5, type: 'credit', mode: 'stopwatch' },\n    { name: 'Scoop Cat Litter', points: 15, type: 'credit', mode: 'single' },\n    { name: 'Take out the garbage/recycling', points: 15, type: 'credit', mode: 'single' },\n    // Debit (Spending) Activities - Alphabetized\n    { name: 'Creative Play (Art/Music)', rate: 0.5, type: 'debit', mode: 'stopwatch' },\n    { name: 'Nap', rate: 1, type: 'debit', mode: 'stopwatch' },\n    { name: 'Reading a book for fun', rate: 0.5, type: 'debit', mode: 'stopwatch' },\n    { name: 'Video Games', rate: 1, type: 'debit', mode: 'stopwatch' },\n    { name: 'Watch something', rate: 1, type: 'debit', isCountdown: true, mode: 'countdown' },\n];\n\nexport const DEFAULT_NEW_ACTIVITY = {\n    name: '',\n    rate: 1,\n    type: 'credit',\n    isCountdown: false,\n    mode: 'stopwatch',\n    points: 5\n};\n\nexport const TIMER_MODES = {\n    STOPWATCH: 'stopwatch',\n    COUNTDOWN: 'countdown',\n    SINGLE: 'single'\n};\n\nexport const ACTIVITY_TYPES = {\n    CREDIT: 'credit',\n    DEBIT: 'debit'\n};","import React from 'react';\nimport { Plus, X } from './Icons';\nimport { ACTIVITY_TYPES, TIMER_MODES, SUGGESTED_ACTIVITIES } from '../constants/activities';\n\nfunction AddActivityForm({\n    newActivity,\n    onActivityChange,\n    onAdd,\n    onCancel,\n    onAddSuggested,\n    darkMode\n}) {\n    const handleSubmit = (e) => {\n        e.preventDefault();\n        if (newActivity.name.trim()) {\n            onAdd();\n        }\n    };\n\n    return (\n        <>\n            {/* Point Value Guidelines */}\n            <div className={`${darkMode ? 'bg-gray-700 border border-gray-600' : 'bg-blue-50 border border-blue-300'} rounded-lg p-4 mb-6`}>\n                <h4 className={`font-semibold mb-3 ${darkMode ? 'text-blue-300' : 'text-blue-700'}`}>\n                    Engineering Your Behavior\n                </h4>\n                <div className={`text-sm space-y-3 ${darkMode ? 'text-gray-300' : 'text-gray-700'}`}>\n                    <p>\n                        Your point values are the incentives that will shape your behavior. Choose values based on what you want <strong>more of</strong> and <strong>less of</strong> in your life—not based on what the activity \"should\" be worth.\n                    </p>\n                    <div>\n                        <span className=\"font-semibold text-green-500\">Credit (What You Want More Of):</span>\n                        <p className=\"ml-4 mt-1 text-xs italic mb-2\">\n                            Examples: Exercise, creativity, learning, chores you neglect, deep work. Or any activity that aligns with who you want to become.\n                        </p>\n                        <ul className=\"ml-4 space-y-1\">\n                            <li>• <strong>High points</strong> (1.5-2+): Behaviors you struggle with but want to cultivate</li>\n                            <li>• <strong>Medium points</strong> (0.8-1.5): Activities you want to do more regularly</li>\n                            <li>• <strong>Low points</strong> (0.5): Passive or supporting activities</li>\n                            <li>• <strong>Flat points</strong> (10-20): One-time completions or milestone tasks</li>\n                        </ul>\n                    </div>\n                    <div>\n                        <span className=\"font-semibold text-red-500\">Debit (What You Want Less Of):</span>\n                        <p className=\"ml-4 mt-1 text-xs italic mb-2\">\n                            Examples: Things you do too much, behaviors you want to redirect, or distractions that pull you away from your goals.\n                        </p>\n                        <ul className=\"ml-4 space-y-1\">\n                            <li>• <strong>High cost</strong> (1-2): Activities you're doing excessively and want to reduce</li>\n                            <li>• <strong>Low cost</strong> (0.5): Activities that are fine in moderation—you're just tracking them</li>\n                        </ul>\n                    </div>\n                </div>\n            </div>\n\n            {/* Custom Activity Form */}\n            <div className={`${darkMode ? 'bg-gray-700 border-2 border-green-400' : 'bg-green-50 border-2 border-green-300'} rounded-lg p-4 mb-6 transition-colors`}>\n                <h3 className={`font-bold text-lg mb-4 ${darkMode ? 'text-white' : 'text-gray-800'}`}>\n                    Create Custom Activity\n                </h3>\n\n                <form onSubmit={handleSubmit} className=\"space-y-4\">\n                    <div className=\"grid grid-cols-1 md:grid-cols-3 gap-3 md:gap-4\">\n                        <input\n                            type=\"text\"\n                            placeholder=\"Activity name\"\n                            value={newActivity.name}\n                            onChange={(e) => onActivityChange('name', e.target.value)}\n                            className={`border-2 rounded-lg px-3 md:px-4 py-2 text-sm focus:outline-none focus:border-indigo-500 ${darkMode ? 'bg-gray-700 border-gray-600 text-white' : 'border-gray-300'}`}\n                            autoFocus\n                        />\n\n                        <select\n                            value={newActivity.type}\n                            onChange={(e) => onActivityChange('type', e.target.value)}\n                            className={`border-2 rounded-lg px-3 md:px-4 py-2 text-sm focus:outline-none focus:border-indigo-500 ${darkMode ? 'bg-gray-700 border-gray-600 text-white' : 'border-gray-300'}`}\n                        >\n                            <option value={ACTIVITY_TYPES.CREDIT}>Credit (Earn)</option>\n                            <option value={ACTIVITY_TYPES.DEBIT}>Debit (Spend)</option>\n                        </select>\n\n                        <select\n                            value={newActivity.mode || 'stopwatch'}\n                            onChange={(e) => onActivityChange('mode', e.target.value)}\n                            className={`border-2 rounded-lg px-3 md:px-4 py-2 text-sm focus:outline-none focus:border-indigo-500 ${darkMode ? 'bg-gray-700 border-gray-600 text-white' : 'border-gray-300'}`}\n                        >\n                            <option value={TIMER_MODES.STOPWATCH}>Stopwatch</option>\n                            <option value={TIMER_MODES.COUNTDOWN}>Countdown</option>\n                            <option value={TIMER_MODES.SINGLE}>Single Item</option>\n                        </select>\n                    </div>\n\n                    {(newActivity.mode === TIMER_MODES.STOPWATCH || newActivity.mode === TIMER_MODES.COUNTDOWN) && (\n                        <div className=\"mb-4\">\n                            <input\n                                type=\"number\"\n                                placeholder=\"Points per minute\"\n                                value={newActivity.rate}\n                                onChange={(e) => onActivityChange('rate', e.target.value)}\n                                min=\"0.1\"\n                                step=\"0.1\"\n                                className={`border-2 rounded-lg px-3 md:px-4 py-2 text-sm focus:outline-none focus:border-indigo-500 w-full ${darkMode ? 'bg-gray-700 border-gray-600 text-white' : 'border-gray-300'}`}\n                            />\n                            <p className={`text-xs ${darkMode ? 'text-gray-400' : 'text-gray-500'} mt-1`}>pts/min</p>\n                        </div>\n                    )}\n\n                    {newActivity.mode === TIMER_MODES.SINGLE && (\n                        <div className=\"mb-4\">\n                            <input\n                                type=\"number\"\n                                placeholder=\"Points for this task\"\n                                value={newActivity.points}\n                                onChange={(e) => onActivityChange('points', e.target.value)}\n                                min=\"1\"\n                                step=\"1\"\n                                className={`border-2 rounded-lg px-3 md:px-4 py-2 text-sm focus:outline-none focus:border-indigo-500 w-full ${darkMode ? 'bg-gray-700 border-gray-600 text-white' : 'border-gray-300'}`}\n                            />\n                            <p className={`text-xs ${darkMode ? 'text-gray-400' : 'text-gray-500'} mt-1`}>total points</p>\n                        </div>\n                    )}\n\n                    {newActivity.mode === TIMER_MODES.COUNTDOWN && (\n                        <div className=\"mb-4 flex items-center gap-2\">\n                            <input\n                                type=\"checkbox\"\n                                checked={newActivity.isCountdown || false}\n                                onChange={(e) => onActivityChange('isCountdown', e.target.checked)}\n                                id=\"countdown-new\"\n                                className=\"w-4 h-4\"\n                            />\n                            <label htmlFor=\"countdown-new\" className={`text-sm ${darkMode ? 'text-gray-300' : 'text-gray-700'}`}>\n                                Use countdown timer (will ask for duration)\n                            </label>\n                        </div>\n                    )}\n\n                    <div className=\"flex gap-3\">\n                        <button\n                            type=\"submit\"\n                            className=\"flex items-center gap-1 bg-green-500 hover:bg-green-600 text-white px-4 py-2 rounded font-semibold transition\"\n                        >\n                            <Plus size={16} /> Add Activity\n                        </button>\n                        <button\n                            type=\"button\"\n                            onClick={onCancel}\n                            className=\"flex items-center gap-1 bg-gray-500 hover:bg-gray-600 text-white px-4 py-2 rounded font-semibold transition\"\n                        >\n                            <X size={16} /> Cancel\n                        </button>\n                    </div>\n                </form>\n            </div>\n\n            {/* Suggested Activities */}\n            <div className={`${darkMode ? 'bg-gray-800 border border-gray-700' : 'bg-white'} rounded-lg shadow-lg p-4 md:p-6 transition-colors`}>\n                <h4 className={`text-base md:text-lg font-semibold ${darkMode ? 'text-white' : 'text-gray-800'} mb-4`}>\n                    Suggested Activities\n                </h4>\n                <div className=\"grid grid-cols-2 md:grid-cols-3 gap-3\">\n                    {SUGGESTED_ACTIVITIES.map((activity, idx) => (\n                        <button\n                            key={idx}\n                            onClick={() => onAddSuggested(activity)}\n                            className={`p-2 md:p-3 rounded-lg border-2 text-left transition text-xs md:text-sm ${\n                                activity.type === 'credit'\n                                    ? darkMode ? 'bg-green-900 border-green-700 hover:bg-green-800' : 'bg-green-50 border-green-300 hover:bg-green-100'\n                                    : darkMode ? 'bg-red-900 border-red-700 hover:bg-red-800' : 'bg-red-50 border-red-300 hover:bg-red-100'\n                            }`}\n                        >\n                            <div className=\"flex items-start justify-between gap-1 mb-1\">\n                                <div className={`font-semibold ${darkMode ? 'text-white' : 'text-gray-800'}`}>\n                                    {activity.name}\n                                </div>\n                                <div className=\"flex gap-1\">\n                                    {activity.mode === 'countdown' && (\n                                        <span className=\"text-xs px-1 py-0.5 rounded bg-opacity-50 bg-gray-700 text-gray-200 whitespace-nowrap\">\n                                            ⏱\n                                        </span>\n                                    )}\n                                    {activity.mode === 'single' && (\n                                        <span className=\"text-xs px-1 py-0.5 rounded bg-opacity-50 bg-purple-700 text-purple-200 whitespace-nowrap\">\n                                            ✓\n                                        </span>\n                                    )}\n                                </div>\n                            </div>\n                            <div className={`text-xs ${\n                                activity.type === 'credit'\n                                    ? darkMode ? 'text-green-300' : 'text-green-700'\n                                    : darkMode ? 'text-red-300' : 'text-red-700'\n                            }`}>\n                                {activity.type === 'credit' ? '+' : '-'}{activity.mode === 'single' ? activity.points : activity.rate + '/min'}\n                            </div>\n                        </button>\n                    ))}\n                </div>\n            </div>\n        </>\n    );\n}\n\nexport default AddActivityForm;","import React, { useState } from 'react';\n\n// Helper component for the edit form\nfunction EditForm({ log, logEditForm, setLogEditForm, handleSaveLogEdit, handleCancelLogEdit, darkMode }) {\n    const newElapsedSeconds = (logEditForm.minutes * 60) + logEditForm.seconds;\n    let newPoints = 0;\n\n    // Calculate preview points\n    if (log.metadata) {\n        if (log.metadata.activityMode === 'single') {\n            newPoints = log.metadata.activityType === 'credit' ? log.metadata.points : -log.metadata.points;\n        } else {\n            const minutes = newElapsedSeconds / 60;\n            const basePoints = minutes * (log.metadata.rate || 1);\n            newPoints = log.metadata.activityType === 'credit' ? basePoints : -basePoints;\n        }\n    }\n\n    return (\n        <div className=\"space-y-3\">\n            <div className={`font-semibold ${darkMode ? 'text-gray-100' : 'text-gray-800'}`}>\n                Adjust Time: {log.metadata.activityName}\n            </div>\n            <div className=\"grid grid-cols-2 gap-2\">\n                <div>\n                    <label className={`block text-xs font-semibold ${darkMode ? 'text-gray-300' : 'text-gray-700'}`}>\n                        Minutes\n                    </label>\n                    <input\n                        type=\"number\"\n                        value={logEditForm.minutes}\n                        onChange={(e) => setLogEditForm(prev => ({...prev, minutes: Math.max(0, parseInt(e.target.value) || 0)}))}\n                        onFocus={(e) => e.target.select()}\n                        min=\"0\"\n                        className={`w-full border rounded px-2 py-1 text-center ${darkMode ? 'bg-gray-600 border-gray-500 text-white' : 'border-gray-300'}`}\n                        autoFocus\n                    />\n                </div>\n                <div>\n                    <label className={`block text-xs font-semibold ${darkMode ? 'text-gray-300' : 'text-gray-700'}`}>\n                        Seconds\n                    </label>\n                    <input\n                        type=\"number\"\n                        value={logEditForm.seconds}\n                        onChange={(e) => setLogEditForm(prev => ({...prev, seconds: Math.max(0, Math.min(59, parseInt(e.target.value) || 0))}))}\n                        onFocus={(e) => e.target.select()}\n                        min=\"0\"\n                        max=\"59\"\n                        className={`w-full border rounded px-2 py-1 text-center ${darkMode ? 'bg-gray-600 border-gray-500 text-white' : 'border-gray-300'}`}\n                    />\n                </div>\n            </div>\n            <div className={`text-xs p-2 rounded ${darkMode ? 'bg-gray-600 text-gray-300' : 'bg-gray-100 text-gray-700'}`}>\n                <strong>New Time:</strong> {Math.floor(newElapsedSeconds / 60)}:{(newElapsedSeconds % 60).toString().padStart(2, '0')} <br/>\n                <strong>New Points:</strong> {newPoints > 0 ? '+' : ''}{Math.round(newPoints * 100) / 100} pts\n                {log.metadata.rate && <span> (@ {log.metadata.rate} pts/min)</span>}\n            </div>\n            <div className=\"flex gap-2\">\n                <button\n                    onClick={handleSaveLogEdit}\n                    className=\"flex-1 bg-green-500 hover:bg-green-600 text-white px-3 py-1 rounded text-xs font-semibold transition\"\n                >\n                    Save\n                </button>\n                <button\n                    onClick={handleCancelLogEdit}\n                    className=\"flex-1 bg-gray-500 hover:bg-gray-600 text-white px-3 py-1 rounded text-xs font-semibold transition\"\n                >\n                    Cancel\n                </button>\n            </div>\n        </div>\n    );\n}\n\nfunction SettingsModal({\n    isOpen,\n    onClose,\n    balance,\n    logs,\n    darkMode,\n    onBalanceAdjustment,\n    onClearLogs,\n    onClearCache,\n    onWipeData,\n    onEditLog\n}) {\n    const [settingsTab, setSettingsTab] = useState('balance');\n    const [balanceAdjustment, setBalanceAdjustment] = useState({ amount: 0, reason: '' });\n    const [showConfirm, setShowConfirm] = useState(null);\n    const [editingLog, setEditingLog] = useState(null);\n    const [logEditForm, setLogEditForm] = useState({ minutes: 0, seconds: 0 });\n\n    if (!isOpen) return null;\n\n    const handleBalanceAdjustment = () => {\n        const amount = parseInt(balanceAdjustment.amount);\n        if (!isNaN(amount)) {\n            onBalanceAdjustment(amount, balanceAdjustment.reason);\n            setBalanceAdjustment({ amount: 0, reason: '' });\n            onClose();\n        }\n    };\n\n    const handleConfirm = (action) => {\n        if (action === 'clear-logs') {\n            onClearLogs();\n        } else if (action === 'clear-cache') {\n            onClearCache();\n        } else if (action === 'wipe-data') {\n            onWipeData();\n        }\n        setShowConfirm(null);\n        onClose();\n    };\n\n    const handleEditLog = (log) => {\n        setEditingLog(log.id);\n        setLogEditForm({\n            minutes: Math.floor((log.metadata.elapsedSeconds || 0) / 60),\n            seconds: (log.metadata.elapsedSeconds || 0) % 60\n        });\n    };\n\n    const handleSaveLogEdit = () => {\n        if (editingLog && onEditLog) {\n            const newElapsedSeconds = (logEditForm.minutes * 60) + logEditForm.seconds;\n            const log = logs.find(l => l.id === editingLog);\n\n            // Auto-calculate new points based on activity rate and new time\n            if (log && log.metadata) {\n                const activity = {\n                    type: log.metadata.activityType,\n                    rate: log.metadata.rate,\n                    mode: log.metadata.activityMode,\n                    points: log.metadata.points\n                };\n\n                let newPoints;\n                if (activity.mode === 'single') {\n                    newPoints = activity.type === 'credit' ? activity.points : -activity.points;\n                } else {\n                    const minutes = newElapsedSeconds / 60;\n                    const basePoints = minutes * (activity.rate || 1);\n                    newPoints = activity.type === 'credit' ? basePoints : -basePoints;\n                }\n\n                onEditLog(editingLog, newPoints, newElapsedSeconds);\n                setEditingLog(null);\n                setLogEditForm({ minutes: 0, seconds: 0 });\n            }\n        }\n    };\n\n    const handleCancelLogEdit = () => {\n        setEditingLog(null);\n        setLogEditForm({ minutes: 0, seconds: 0 });\n    };\n\n    return (\n        <div className=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50\" onClick={onClose}>\n            <div\n                className={`${darkMode ? 'bg-gray-800 border border-gray-700' : 'bg-white'} rounded-lg shadow-2xl p-8 max-w-2xl w-full max-h-96 overflow-y-auto transition-colors`}\n                onClick={(e) => e.stopPropagation()}\n            >\n                <h2 className={`text-2xl font-bold ${darkMode ? 'text-white' : 'text-gray-800'} mb-6`}>\n                    Settings\n                </h2>\n\n                {/* Tabs */}\n                <div className={`flex gap-1 md:gap-2 mb-6 border-b overflow-x-auto ${darkMode ? 'border-gray-700' : ''}`}>\n                    {[\n                        { id: 'balance', label: 'Balance' },\n                        { id: 'logs', label: `Logs (${logs.length})` },\n                        { id: 'cache', label: 'Cache' },\n                        { id: 'privacy', label: 'Privacy' }\n                    ].map(tab => (\n                        <button\n                            key={tab.id}\n                            onClick={() => setSettingsTab(tab.id)}\n                            className={`px-2 md:px-4 py-2 font-semibold transition whitespace-nowrap text-xs md:text-base ${\n                                settingsTab === tab.id\n                                    ? 'text-indigo-600 border-b-2 border-indigo-600'\n                                    : darkMode ? 'text-gray-400' : 'text-gray-600'\n                            }`}\n                        >\n                            {tab.label}\n                        </button>\n                    ))}\n                </div>\n\n                {/* Balance Tab */}\n                {settingsTab === 'balance' && (\n                    <>\n                        <div className=\"mb-6\">\n                            <label className={`block text-sm font-semibold ${darkMode ? 'text-gray-200' : 'text-gray-700'} mb-2`}>\n                                Adjust Balance\n                            </label>\n                            <p className={`${darkMode ? 'text-gray-400' : 'text-gray-600'} text-sm mb-4`}>\n                                Add or remove points (for errors or manual corrections)\n                            </p>\n                            <div className=\"space-y-3\">\n                                <input\n                                    type=\"number\"\n                                    placeholder=\"Points to add/remove\"\n                                    value={balanceAdjustment.amount}\n                                    onChange={(e) => setBalanceAdjustment({...balanceAdjustment, amount: e.target.value})}\n                                    className={`border-2 rounded-lg px-4 py-2 w-full focus:outline-none focus:border-indigo-500 ${darkMode ? 'bg-gray-700 border-gray-600 text-white' : 'border-gray-300'}`}\n                                />\n                                <input\n                                    type=\"text\"\n                                    placeholder=\"Reason (optional)\"\n                                    value={balanceAdjustment.reason}\n                                    onChange={(e) => setBalanceAdjustment({...balanceAdjustment, reason: e.target.value})}\n                                    className={`border-2 rounded-lg px-4 py-2 w-full focus:outline-none focus:border-indigo-500 ${darkMode ? 'bg-gray-700 border-gray-600 text-white' : 'border-gray-300'}`}\n                                />\n                                <p className={`text-xs ${darkMode ? 'text-gray-400' : 'text-gray-500'}`}>\n                                    Current: {Math.round(balance * 100) / 100} pts | After: {Math.round(Math.max(0, balance + parseInt(balanceAdjustment.amount || 0)) * 100) / 100} pts\n                                </p>\n                            </div>\n                        </div>\n\n                        <div className=\"flex gap-3\">\n                            <button\n                                onClick={handleBalanceAdjustment}\n                                className=\"flex-1 bg-green-500 hover:bg-green-600 text-white px-6 py-3 rounded-lg font-bold transition\"\n                            >\n                                Apply ✓\n                            </button>\n                            <button\n                                onClick={onClose}\n                                className=\"flex-1 bg-red-500 hover:bg-red-600 text-white px-6 py-3 rounded-lg font-bold transition\"\n                            >\n                                Close ✗\n                            </button>\n                        </div>\n                    </>\n                )}\n\n                {/* Logs Tab */}\n                {settingsTab === 'logs' && (\n                    <>\n                        <div className=\"space-y-2 max-h-64 overflow-y-auto mb-6\">\n                            {logs.length === 0 ? (\n                                <p className={`${darkMode ? 'text-gray-400' : 'text-gray-500'} text-sm`}>\n                                    No activity logs yet\n                                </p>\n                            ) : (\n                                // Show most recent logs first (logs array already has newest first)\n                                logs.slice(0, 50).map((log, idx) => {\n                                    const isEditable = log.metadata?.editable && (log.action === 'timer_session' || log.action === 'activity_completed');\n                                    const isEditing = editingLog === log.id;\n\n                                    return (\n                                        <div key={idx} className={`text-sm p-3 rounded border-l-2 ${\n                                            log.action === 'timer_session' ? 'border-green-500' :\n                                            log.action === 'activity_completed' ? 'border-blue-500' :\n                                            'border-indigo-500'\n                                        } ${darkMode ? 'bg-gray-700' : 'bg-gray-50'}`}>\n                                            {isEditing ? (\n                                                // Edit form\n                                                <EditForm\n                                                    log={log}\n                                                    logEditForm={logEditForm}\n                                                    setLogEditForm={setLogEditForm}\n                                                    handleSaveLogEdit={handleSaveLogEdit}\n                                                    handleCancelLogEdit={handleCancelLogEdit}\n                                                    darkMode={darkMode}\n                                                />\n                                            ) : (\n                                                // Normal display\n                                                <>\n                                                    <div className=\"flex justify-between items-start gap-2\">\n                                                        <span className={`font-semibold ${darkMode ? 'text-gray-100' : 'text-gray-800'}`}>\n                                                            {log.action === 'timer_session' ? '⏱️ Timer Session' :\n                                                             log.action === 'activity_completed' ? '✅ Completed' :\n                                                             log.action}\n                                                        </span>\n                                                        <div className=\"flex items-center gap-2\">\n                                                            {isEditable && (\n                                                                <button\n                                                                    onClick={() => handleEditLog(log)}\n                                                                    className=\"text-blue-500 hover:text-blue-600 text-xs font-semibold\"\n                                                                >\n                                                                    Edit\n                                                                </button>\n                                                            )}\n                                                            <span className={`text-xs flex-shrink-0 ${darkMode ? 'text-gray-400' : 'text-gray-500'}`}>\n                                                                {new Date(log.timestamp).toLocaleTimeString()}\n                                                            </span>\n                                                        </div>\n                                                    </div>\n                                                    {log.details && (\n                                                        <div className={`${darkMode ? 'text-gray-300' : 'text-gray-600'} mt-1`}>\n                                                            {log.details}\n                                                        </div>\n                                                    )}\n                                                    {/* Additional metadata for timer sessions */}\n                                                    {log.action === 'timer_session' && log.metadata && (\n                                                        <div className={`text-xs mt-2 space-y-1 ${darkMode ? 'text-gray-400' : 'text-gray-500'}`}>\n                                                            {log.metadata.startTime && log.metadata.endTime && (\n                                                                <div>\n                                                                    <strong>Duration:</strong> {new Date(log.metadata.startTime).toLocaleTimeString()} → {new Date(log.metadata.endTime).toLocaleTimeString()}\n                                                                </div>\n                                                            )}\n                                                            <div>\n                                                                <strong>Time:</strong> {Math.floor(log.metadata.elapsedSeconds / 60)}:{(log.metadata.elapsedSeconds % 60).toString().padStart(2, '0')}\n                                                                {log.metadata.wasCountdown ? ' (countdown)' : ' (stopwatch)'}\n                                                            </div>\n                                                            <div>\n                                                                <strong>Points:</strong> {log.metadata.pointsEarned > 0 ? '+' : ''}{Math.round(log.metadata.pointsEarned * 100) / 100}\n                                                                {log.metadata.pointsAdjusted && <span className=\"text-yellow-500\"> [EDITED]</span>}\n                                                            </div>\n                                                        </div>\n                                                    )}\n                                                </>\n                                            )}\n                                        </div>\n                                    );\n                                })\n                            )}\n                        </div>\n                        <div className=\"flex gap-3\">\n                            <button\n                                onClick={() => setShowConfirm('clear-logs')}\n                                className=\"flex-1 bg-orange-500 hover:bg-orange-600 text-white px-6 py-2 rounded-lg font-semibold transition text-sm\"\n                            >\n                                Clear Logs\n                            </button>\n                            <button\n                                onClick={onClose}\n                                className=\"flex-1 bg-gray-500 hover:bg-gray-600 text-white px-6 py-2 rounded-lg font-semibold transition text-sm\"\n                            >\n                                Close\n                            </button>\n                        </div>\n                    </>\n                )}\n\n                {/* Cache Tab */}\n                {settingsTab === 'cache' && (\n                    <>\n                        <div className=\"space-y-4 mb-6\">\n                            <div className={`border rounded-lg p-4 ${darkMode ? 'border-gray-700 bg-gray-700' : 'border-gray-300 bg-gray-50'}`}>\n                                <h4 className={`font-semibold mb-2 ${darkMode ? 'text-gray-100' : 'text-gray-800'}`}>\n                                    Clear Old Cache\n                                </h4>\n                                <p className={`text-sm mb-3 ${darkMode ? 'text-gray-300' : 'text-gray-600'}`}>\n                                    Remove cached code and temporary files while keeping your balance and activities intact.\n                                </p>\n                                <button\n                                    onClick={() => setShowConfirm('clear-cache')}\n                                    className=\"w-full bg-yellow-500 hover:bg-yellow-600 text-white px-4 py-2 rounded-lg font-semibold transition text-sm\"\n                                >\n                                    🧹 Clear Cache\n                                </button>\n                            </div>\n\n                            <div className={`border rounded-lg p-4 ${darkMode ? 'border-gray-700 bg-gray-700' : 'border-gray-300 bg-gray-50'}`}>\n                                <h4 className={`font-semibold mb-2 ${darkMode ? 'text-gray-100' : 'text-gray-800'}`}>\n                                    Wipe All Data\n                                </h4>\n                                <p className={`text-sm mb-3 ${darkMode ? 'text-gray-300' : 'text-gray-600'}`}>\n                                    Start completely fresh. This will permanently delete all activities, balance, and logs.\n                                </p>\n                                <button\n                                    onClick={() => setShowConfirm('wipe-data')}\n                                    className=\"w-full bg-red-600 hover:bg-red-700 text-white px-4 py-2 rounded-lg font-bold transition text-sm\"\n                                >\n                                    🗑️ Wipe All Data & Start Fresh\n                                </button>\n                            </div>\n                        </div>\n\n                        <button\n                            onClick={onClose}\n                            className=\"w-full bg-gray-500 hover:bg-gray-600 text-white px-6 py-2 rounded-lg font-semibold transition text-sm\"\n                        >\n                            Close\n                        </button>\n                    </>\n                )}\n\n                {/* Privacy Tab */}\n                {settingsTab === 'privacy' && (\n                    <>\n                        <div className={`space-y-6 max-h-96 overflow-y-auto mb-6 ${darkMode ? 'text-gray-300' : 'text-gray-700'}`}>\n                            <div>\n                                <h3 className={`text-lg font-bold mb-4 ${darkMode ? 'text-white' : 'text-gray-800'}`}>\n                                    Privacy Policy\n                                </h3>\n                                <p className={`text-xs mb-4 ${darkMode ? 'text-gray-400' : 'text-gray-500'}`}>\n                                    Last Updated: November 6, 2024\n                                </p>\n                            </div>\n\n                            <div className=\"space-y-4 text-sm\">\n                                <section>\n                                    <h4 className={`font-semibold mb-2 ${darkMode ? 'text-gray-200' : 'text-gray-800'}`}>\n                                        Our Privacy Commitment\n                                    </h4>\n                                    <p className=\"mb-3\">\n                                        Memento Vivere was created with a singular mission: to provide meaningful support for individuals navigating depression, motivation challenges, and personal growth—without compromising your privacy or exploiting your personal information for profit.\n                                    </p>\n                                    <p>\n                                        We believe that mental health tools should empower users while maintaining the highest standards of data protection and privacy respect.\n                                    </p>\n                                </section>\n\n                                <section>\n                                    <h4 className={`font-semibold mb-2 ${darkMode ? 'text-gray-200' : 'text-gray-800'}`}>\n                                        Zero Data Collection\n                                    </h4>\n                                    <p className=\"mb-3\">\n                                        <strong>Memento Vivere operates on a foundational principle of privacy by design.</strong> We do not collect, store, transmit, or process any personal data, usage patterns, activity logs, or identifying information from our users.\n                                    </p>\n                                    <p>\n                                        This is not merely a policy choice—it is built into the very architecture of our application.\n                                    </p>\n                                </section>\n\n                                <section>\n                                    <h4 className={`font-semibold mb-2 ${darkMode ? 'text-gray-200' : 'text-gray-800'}`}>\n                                        Local-First Architecture\n                                    </h4>\n                                    <p className=\"mb-3\">\n                                        All functionality operates exclusively on your device through local storage mechanisms. Your activities, progress tracking, timer logs, and personal configurations remain entirely within your control and never leave your device.\n                                    </p>\n                                    <p>\n                                        We have no servers collecting your data, no databases storing your information, and no analytics tracking your behavior.\n                                    </p>\n                                </section>\n\n                                <section>\n                                    <h4 className={`font-semibold mb-2 ${darkMode ? 'text-gray-200' : 'text-gray-800'}`}>\n                                        Mental Health Privacy Priority\n                                    </h4>\n                                    <p>\n                                        We recognize that mental health applications handle particularly sensitive personal information. Unlike platforms that monetize user data, Memento Vivere was designed specifically to provide therapeutic value without the privacy compromises typically associated with digital wellness tools.\n                                    </p>\n                                </section>\n\n                                <section>\n                                    <h4 className={`font-semibold mb-2 ${darkMode ? 'text-gray-200' : 'text-gray-800'}`}>\n                                        Technical Implementation\n                                    </h4>\n                                    <div className=\"space-y-2\">\n                                        <p><strong>No Network Transmission:</strong> The application functions entirely offline after initial installation. No personal data, usage statistics, or behavioral patterns are transmitted to external servers or third parties under any circumstances.</p>\n                                        <p><strong>No Third-Party Integration:</strong> We employ no analytics services, tracking pixels, advertising networks, or external monitoring technologies.</p>\n                                        <p><strong>No Persistent Identifiers:</strong> The application does not create, store, or utilize any persistent identifiers, user accounts, or tracking mechanisms.</p>\n                                    </div>\n                                </section>\n\n                                <section>\n                                    <h4 className={`font-semibold mb-2 ${darkMode ? 'text-gray-200' : 'text-gray-800'}`}>\n                                        Business Model Transparency\n                                    </h4>\n                                    <p>\n                                        Memento Vivere is developed as a supportive tool for mental wellness, not as a data collection platform. We generate no revenue from user data, behavioral insights, or targeted advertising. Our commitment to privacy is absolute because our business model does not depend on data monetization.\n                                    </p>\n                                </section>\n\n                                <section>\n                                    <h4 className={`font-semibold mb-2 ${darkMode ? 'text-gray-200' : 'text-gray-800'}`}>\n                                        Contact Information\n                                    </h4>\n                                    <p>For privacy-related inquiries or concerns:</p>\n                                    <div className={`mt-2 p-3 rounded ${darkMode ? 'bg-gray-700' : 'bg-gray-100'}`}>\n                                        <p><strong>Email:</strong> michael@michaelortegon.com</p>\n                                        <p><strong>Organization:</strong> Advenire Consultation</p>\n                                        <p><strong>Website:</strong> advenire.consultants</p>\n                                    </div>\n                                </section>\n                            </div>\n                        </div>\n\n                        <button\n                            onClick={onClose}\n                            className=\"w-full bg-gray-500 hover:bg-gray-600 text-white px-6 py-2 rounded-lg font-semibold transition text-sm\"\n                        >\n                            Close\n                        </button>\n                    </>\n                )}\n\n                {/* Confirmation Dialog */}\n                {showConfirm && (\n                    <div className=\"fixed inset-0 bg-black bg-opacity-75 flex items-center justify-center p-4 z-60\">\n                        <div className={`${darkMode ? 'bg-gray-800' : 'bg-white'} rounded-lg p-6 max-w-md w-full`}>\n                            <h3 className={`text-lg font-bold mb-4 ${darkMode ? 'text-white' : 'text-gray-800'}`}>\n                                Confirm Action\n                            </h3>\n                            <p className={`mb-6 ${darkMode ? 'text-gray-300' : 'text-gray-600'}`}>\n                                {showConfirm === 'clear-logs' && 'This will permanently delete all activity logs. Are you sure?'}\n                                {showConfirm === 'clear-cache' && 'This will clear temporary data while keeping your activities and balance. Continue?'}\n                                {showConfirm === 'wipe-data' && 'This will permanently delete ALL your data including activities, balance, and logs. This cannot be undone!'}\n                            </p>\n                            <div className=\"flex gap-3\">\n                                <button\n                                    onClick={() => handleConfirm(showConfirm)}\n                                    className={`flex-1 px-4 py-2 rounded font-semibold transition ${\n                                        showConfirm === 'wipe-data'\n                                            ? 'bg-red-600 hover:bg-red-700 text-white'\n                                            : 'bg-yellow-500 hover:bg-yellow-600 text-white'\n                                    }`}\n                                >\n                                    Confirm\n                                </button>\n                                <button\n                                    onClick={() => setShowConfirm(null)}\n                                    className=\"flex-1 bg-gray-500 hover:bg-gray-600 text-white px-4 py-2 rounded font-semibold transition\"\n                                >\n                                    Cancel\n                                </button>\n                            </div>\n                        </div>\n                    </div>\n                )}\n            </div>\n        </div>\n    );\n}\n\nexport default SettingsModal;","import React from 'react';\n\nfunction AboutModal({\n    isOpen,\n    onClose,\n    onShowOnboarding,\n    darkMode,\n    isFirstVisit = false\n}) {\n    if (!isOpen) return null;\n\n    const handleGotIt = () => {\n        if (isFirstVisit) {\n            localStorage.setItem('memento-onboarding-seen', 'true');\n            onShowOnboarding();\n        }\n        onClose();\n    };\n\n    const handleSkip = () => {\n        localStorage.setItem('memento-onboarding-seen', 'true');\n        onClose();\n    };\n\n    return (\n        <div\n            className=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50\"\n            onClick={onClose}\n        >\n            <div\n                className={`${darkMode ? 'bg-gray-800 border border-gray-700' : 'bg-white'} rounded-lg shadow-2xl p-8 max-w-2xl w-full max-h-96 overflow-y-auto transition-colors`}\n                onClick={(e) => e.stopPropagation()}\n            >\n                <h2 className={`text-2xl font-bold ${darkMode ? 'text-white' : 'text-gray-800'} mb-6`}>\n                    {isFirstVisit ? 'Welcome to Memento Vivere' : 'About Memento Vivere'}\n                </h2>\n\n                <div className={`space-y-4 mb-6 ${darkMode ? 'text-gray-300' : 'text-gray-700'}`}>\n                    <div>\n                        <h3 className={`text-lg font-bold mb-3 ${darkMode ? 'text-white' : 'text-gray-800'}`}>\n                            The Science Behind It\n                        </h3>\n\n                        <div className=\"text-sm space-y-3\">\n                            <div>\n                                <p className={`font-semibold mb-1 ${darkMode ? 'text-blue-300' : 'text-blue-700'}`}>\n                                    🧠 The Biological Foundation\n                                </p>\n                                <p>\n                                    Our dopamine system evolved to reward survival behaviors—finding food, building bonds, learning, achieving goals. Dopamine motivates us to seek progress and rewards.\n                                </p>\n                            </div>\n\n                            <div>\n                                <p className={`font-semibold mb-1 ${darkMode ? 'text-cyan-300' : 'text-cyan-700'}`}>\n                                    How It Trains Your Brain\n                                </p>\n                                <p>When you do something and get a result, dopamine responds to whether that result matched your expectations:</p>\n                                <ul className=\"text-xs ml-4 mt-1 space-y-1\">\n                                    <li>Better than expected → dopamine spikes → your brain strengthens that behavior</li>\n                                    <li>As expected → dopamine stays steady → no new learning</li>\n                                    <li>Worse than expected → dopamine dips → your brain learns to avoid it</li>\n                                </ul>\n                            </div>\n\n                            <div>\n                                <p className={`font-semibold mb-1 ${darkMode ? 'text-orange-300' : 'text-orange-700'}`}>\n                                    💣 The Problem: Dopamine Dysregulation\n                                </p>\n                                <p>\n                                    Endless notifications, social media, and quick dopamine hits train your brain to chase hollow rewards. This leads to reduced sensitivity, shorter attention span, and decreased motivation for slow, meaningful rewards.\n                                </p>\n                            </div>\n\n                            <div>\n                                <p className={`font-semibold mb-1 ${darkMode ? 'text-green-300' : 'text-green-700'}`}>\n                                    ⚡ How Memento Vivere Rewires This\n                                </p>\n                                <p>\n                                    By assigning point values to your chosen activities, the app creates predictable dopamine spikes for things that genuinely improve your life. Each point is a clear signal: \"this action is valuable.\" Over time, your brain learns to crave deep work, creativity, exercise, or connection—not through willpower, but through dopamine training that reprograms what feels rewarding.\n                                </p>\n                                <p className=\"mt-1 italic text-xs\">\n                                    Consistency is key: the more often you earn points for an activity, the stronger that neural pathway becomes.\n                                </p>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n\n                <div className=\"flex flex-col sm:flex-row gap-3\">\n                    {isFirstVisit ? (\n                        <>\n                            <button\n                                onClick={handleGotIt}\n                                className=\"flex-1 bg-indigo-500 hover:bg-indigo-600 text-white px-6 py-2 rounded-lg font-semibold transition text-sm\"\n                            >\n                                Got It!\n                            </button>\n                            <button\n                                onClick={handleSkip}\n                                className=\"flex-1 bg-gray-500 hover:bg-gray-600 text-white px-6 py-2 rounded-lg font-semibold transition text-sm\"\n                            >\n                                Skip\n                            </button>\n                        </>\n                    ) : (\n                        <>\n                            <button\n                                onClick={onShowOnboarding}\n                                className=\"flex-1 bg-indigo-500 hover:bg-indigo-600 text-white px-6 py-2 rounded-lg font-semibold transition text-sm\"\n                            >\n                                View Onboarding Guide\n                            </button>\n                            <button\n                                onClick={onClose}\n                                className=\"flex-1 bg-gray-500 hover:bg-gray-600 text-white px-6 py-2 rounded-lg font-semibold transition text-sm\"\n                            >\n                                Close\n                            </button>\n                        </>\n                    )}\n                </div>\n            </div>\n        </div>\n    );\n}\n\nexport default AboutModal;","import React from 'react';\n\nfunction OnboardingModal({ isOpen, onClose, darkMode }) {\n    if (!isOpen) return null;\n\n    const handleClose = () => {\n        localStorage.setItem('memento-onboarding-seen', 'true');\n        onClose();\n    };\n\n    return (\n        <div\n            className=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50\"\n            onClick={handleClose}\n        >\n            <div\n                className={`${darkMode ? 'bg-gray-800 border border-gray-700' : 'bg-white'} rounded-lg shadow-2xl p-8 max-w-2xl w-full max-h-96 overflow-y-auto transition-colors`}\n                onClick={(e) => e.stopPropagation()}\n            >\n                <h2 className={`text-2xl font-bold ${darkMode ? 'text-white' : 'text-gray-800'} mb-6`}>\n                    Welcome to Memento Vivere! 👋\n                </h2>\n\n                <div className={`space-y-4 mb-8 ${darkMode ? 'text-gray-300' : 'text-gray-700'}`}>\n                    <div>\n                        <h3 className={`text-lg font-bold mb-2 ${darkMode ? 'text-cyan-400' : 'text-cyan-600'}`}>\n                            🎯 How to Use This App Effectively\n                        </h3>\n                        <p className=\"text-sm mb-3\">\n                            You're in control. This app works by <strong>you</strong> setting the point values that drive your behavior. Your positive and negative values should reflect what you want for your life <em>right now</em>—and they can always change.\n                        </p>\n                        <p className=\"text-sm mb-3\">\n                            <strong>Example:</strong> Struggling with dishes piling up and too much gaming? Give dishes a strong positive value (+1 per minute), set the dishwasher countdown to +0.5/min, and make video games negative (-1 point per minute). This creates natural incentives you won't have to think about.\n                        </p>\n                        <p className=\"text-sm mb-3\">\n                            Once you've built good habits—your dishes are done, laundry stays current—it's time to reassess. Maybe now you want more creativity in your life. Adjust: give creative activities a positive value, and assign negative points to what you're doing too much (like watching TV). You're constantly steering the ship.\n                        </p>\n                        <p className=\"text-sm\">\n                            <strong>Remember:</strong> You're not earning or spending real money. You're giving yourself automatic incentives that guide your choices without requiring constant willpower or thought.\n                        </p>\n                    </div>\n\n                    <div className={`border-t pt-4 ${darkMode ? 'border-gray-600' : 'border-gray-300'}`}>\n                        <h3 className={`text-lg font-bold mb-2 ${darkMode ? 'text-cyan-400' : 'text-cyan-600'}`}>\n                            📋 Getting Started\n                        </h3>\n                        <ol className=\"text-sm space-y-2 ml-4 list-decimal list-inside\">\n                            <li><strong>Create Activities:</strong> Click \"Add Activity\" to set up things you want to track. Label them as \"Credit\" (what you want to do more of) or \"Debit\" (what you're okay doing less of).</li>\n                            <li><strong>Set Your Values:</strong> Assign point values based on your current life goals. Make what you want to do more of positive, and what you want to do less of negative.</li>\n                            <li><strong>Start Tracking:</strong> Click the button on any activity to start timing or log completion of single-point tasks.</li>\n                            <li><strong>Watch Your Balance:</strong> Your balance grows as you earn points and decreases as you spend them. This is your conversation with yourself.</li>\n                            <li><strong>Reassess & Adjust:</strong> Once habits shift, change your point values to steer toward new goals. You're always in control.</li>\n                        </ol>\n                    </div>\n\n                    <div className={`border-t pt-4 ${darkMode ? 'border-gray-600' : 'border-gray-300'}`}>\n                        <h4 className={`font-semibold mb-2 ${darkMode ? 'text-indigo-400' : 'text-indigo-600'}`}>\n                            ⚙️ Customize Your Experience\n                        </h4>\n                        <p className=\"text-sm mb-2\">\n                            Visit <strong>Settings</strong> to adjust your balance, view activity logs, or manage your data.\n                        </p>\n                        <p className=\"text-sm\">\n                            Click <strong>About</strong> to learn about the philosophy and science behind the app.\n                        </p>\n                    </div>\n\n                    <div className={`border-t pt-4 ${darkMode ? 'border-gray-600' : 'border-gray-300'}`}>\n                        <h4 className={`font-semibold mb-2 ${darkMode ? 'text-green-400' : 'text-green-600'}`}>\n                            💡 Pro Tips\n                        </h4>\n                        <ul className=\"text-sm space-y-1 ml-4 list-disc list-inside\">\n                            <li>Edit activities by clicking the blue pencil button</li>\n                            <li>Delete activities from the edit menu</li>\n                            <li>Your data is saved automatically in your browser</li>\n                            <li>Toggle dark mode for comfortable viewing anytime</li>\n                        </ul>\n                    </div>\n                </div>\n\n                <button\n                    onClick={handleClose}\n                    className=\"w-full bg-indigo-500 hover:bg-indigo-600 text-white px-6 py-3 rounded-lg font-semibold transition\"\n                >\n                    Ready to Go!\n                </button>\n            </div>\n        </div>\n    );\n}\n\nexport default OnboardingModal;","import { useState, useCallback } from 'react';\nimport { SUGGESTED_ACTIVITIES, DEFAULT_NEW_ACTIVITY } from '../constants/activities';\nimport { calculateBalanceChange } from '../utils/pointUtils';\nimport { saveAppData } from '../utils/storageUtils';\n\n/**\n * Custom hook for managing activities and balance\n */\nexport function useActivities(initialActivities = [], initialBalance = 0) {\n    const [activities, setActivities] = useState(initialActivities);\n    const [balance, setBalance] = useState(initialBalance);\n\n    /**\n     * Add a new activity\n     */\n    const addActivity = useCallback((activityData) => {\n        const newActivity = {\n            ...activityData,\n            id: Date.now() + Math.random() // Simple ID generation\n        };\n\n        setActivities(prev => [...prev, newActivity]);\n        return newActivity;\n    }, []);\n\n    /**\n     * Update an existing activity\n     */\n    const updateActivity = useCallback((activityId, updates) => {\n        setActivities(prev =>\n            prev.map(activity =>\n                activity.id === activityId\n                    ? { ...activity, ...updates }\n                    : activity\n            )\n        );\n    }, []);\n\n    /**\n     * Delete an activity\n     */\n    const deleteActivity = useCallback((activityId) => {\n        setActivities(prev => prev.filter(activity => activity.id !== activityId));\n    }, []);\n\n    /**\n     * Get activity by ID\n     */\n    const getActivity = useCallback((activityId) => {\n        return activities.find(activity => activity.id === activityId);\n    }, [activities]);\n\n    /**\n     * Add suggested activity with unique ID\n     */\n    const addSuggestedActivity = useCallback((suggestedActivity) => {\n        const newActivity = {\n            ...suggestedActivity,\n            id: Date.now() + Math.random()\n        };\n        setActivities(prev => [...prev, newActivity]);\n        return newActivity;\n    }, []);\n\n    /**\n     * Complete an activity and update balance\n     */\n    const completeActivity = useCallback((activity, elapsedSeconds = 0) => {\n        const pointsEarned = calculateBalanceChange(activity, elapsedSeconds);\n        setBalance(prev => prev + pointsEarned);\n\n        return pointsEarned;\n    }, []);\n\n    /**\n     * Adjust balance manually\n     */\n    const adjustBalance = useCallback((amount, reason = '') => {\n        setBalance(prev => prev + amount);\n        return { amount, reason };\n    }, []);\n\n    /**\n     * Reset balance to zero\n     */\n    const resetBalance = useCallback(() => {\n        setBalance(0);\n    }, []);\n\n    /**\n     * Sort activities by different criteria\n     */\n    const sortActivities = useCallback((sortBy) => {\n        setActivities(prev => {\n            const sorted = [...prev];\n            switch (sortBy) {\n                case 'name':\n                    return sorted.sort((a, b) => a.name.localeCompare(b.name));\n                case 'rate-asc':\n                    return sorted.sort((a, b) => {\n                        const aValue = a.mode === 'single' ? a.points : a.rate;\n                        const bValue = b.mode === 'single' ? b.points : b.rate;\n                        return aValue - bValue;\n                    });\n                case 'rate-desc':\n                    return sorted.sort((a, b) => {\n                        const aValue = a.mode === 'single' ? a.points : a.rate;\n                        const bValue = b.mode === 'single' ? b.points : b.rate;\n                        return bValue - aValue;\n                    });\n                case 'type':\n                    return sorted.sort((a, b) => {\n                        if (a.type === b.type) return a.name.localeCompare(b.name);\n                        return a.type === 'credit' ? -1 : 1;\n                    });\n                default:\n                    return sorted;\n            }\n        });\n    }, []);\n\n    /**\n     * Get activities by type\n     */\n    const getActivitiesByType = useCallback((type) => {\n        return activities.filter(activity => activity.type === type);\n    }, [activities]);\n\n    /**\n     * Get activities by mode\n     */\n    const getActivitiesByMode = useCallback((mode) => {\n        return activities.filter(activity => activity.mode === mode);\n    }, [activities]);\n\n    /**\n     * Check if activity name already exists\n     */\n    const isActivityNameTaken = useCallback((name, excludeId = null) => {\n        return activities.some(activity =>\n            activity.name.toLowerCase() === name.toLowerCase() &&\n            activity.id !== excludeId\n        );\n    }, [activities]);\n\n    /**\n     * Get suggested activities that haven't been added yet\n     */\n    const getAvailableSuggestions = useCallback(() => {\n        const existingNames = activities.map(a => a.name.toLowerCase());\n        return SUGGESTED_ACTIVITIES.filter(suggested =>\n            !existingNames.includes(suggested.name.toLowerCase())\n        );\n    }, [activities]);\n\n    /**\n     * Import activities from array (merge with existing)\n     */\n    const importActivities = useCallback((importedActivities) => {\n        const newActivities = importedActivities.map(activity => ({\n            ...activity,\n            id: Date.now() + Math.random() + Math.random() // Ensure unique IDs\n        }));\n\n        setActivities(prev => [...prev, ...newActivities]);\n        return newActivities;\n    }, []);\n\n    /**\n     * Export activities data\n     */\n    const exportActivities = useCallback(() => {\n        return activities.map(({ id, ...activity }) => activity);\n    }, [activities]);\n\n    /**\n     * Clear all activities\n     */\n    const clearAllActivities = useCallback(() => {\n        setActivities([]);\n    }, []);\n\n    /**\n     * Get activity statistics\n     */\n    const getActivityStats = useCallback(() => {\n        const creditActivities = activities.filter(a => a.type === 'credit');\n        const debitActivities = activities.filter(a => a.type === 'debit');\n        const timerActivities = activities.filter(a => a.mode !== 'single');\n        const singleActivities = activities.filter(a => a.mode === 'single');\n\n        return {\n            total: activities.length,\n            credit: creditActivities.length,\n            debit: debitActivities.length,\n            timer: timerActivities.length,\n            single: singleActivities.length,\n            averageRate: timerActivities.length > 0\n                ? timerActivities.reduce((sum, a) => sum + (a.rate || 0), 0) / timerActivities.length\n                : 0,\n            averagePoints: singleActivities.length > 0\n                ? singleActivities.reduce((sum, a) => sum + (a.points || 0), 0) / singleActivities.length\n                : 0\n        };\n    }, [activities]);\n\n    return {\n        activities,\n        balance,\n        addActivity,\n        updateActivity,\n        deleteActivity,\n        getActivity,\n        addSuggestedActivity,\n        completeActivity,\n        adjustBalance,\n        resetBalance,\n        sortActivities,\n        getActivitiesByType,\n        getActivitiesByMode,\n        isActivityNameTaken,\n        getAvailableSuggestions,\n        importActivities,\n        exportActivities,\n        clearAllActivities,\n        getActivityStats,\n        setActivities,\n        setBalance\n    };\n}","/**\n * Android API Service\n * Provides interface to Android native functions when running in WebView\n */\n\nclass AndroidAPIService {\n    constructor() {\n        this.isAndroid = typeof window !== 'undefined' && typeof window.AndroidAPI !== 'undefined';\n    }\n\n    /**\n     * Check if running in Android environment\n     */\n    isAvailable() {\n        return this.isAndroid;\n    }\n\n    /**\n     * Play alarm sound respecting device ringer mode\n     */\n    playSound() {\n        if (this.isAndroid) {\n            try {\n                window.AndroidAPI.playSound();\n            } catch (error) {\n                console.error('Error playing sound:', error);\n            }\n        }\n    }\n\n    /**\n     * Stop currently playing sound\n     */\n    stopSound() {\n        if (this.isAndroid) {\n            try {\n                window.AndroidAPI.stopSound();\n            } catch (error) {\n                console.error('Error stopping sound:', error);\n            }\n        }\n    }\n\n    /**\n     * Trigger device vibration\n     * @param {number} duration - Duration in milliseconds\n     */\n    vibrate(duration = 500) {\n        if (this.isAndroid) {\n            try {\n                window.AndroidAPI.vibrate(duration);\n            } catch (error) {\n                console.error('Error vibrating:', error);\n            }\n        }\n    }\n\n    /**\n     * Trigger complex vibration pattern\n     * @param {number[]} pattern - Array of durations (vibrate, pause, vibrate, pause, ...)\n     */\n    vibratePattern(pattern) {\n        if (this.isAndroid) {\n            try {\n                window.AndroidAPI.vibratePattern(pattern);\n            } catch (error) {\n                console.error('Error vibrating with pattern:', error);\n            }\n        }\n    }\n\n    /**\n     * Schedule exact alarm for timer completion\n     * @param {number} activityId - Unique activity identifier\n     * @param {string} activityName - Activity name for notification\n     * @param {number} durationMillis - Duration until alarm in milliseconds\n     */\n    scheduleTimerAlarm(activityId, activityName, durationMillis) {\n        if (this.isAndroid) {\n            try {\n                window.AndroidAPI.scheduleTimerAlarm(activityId, activityName, durationMillis);\n            } catch (error) {\n                console.error('Error scheduling timer alarm:', error);\n            }\n        }\n    }\n\n    /**\n     * Cancel specific timer alarm\n     * @param {number} activityId - Activity identifier\n     */\n    cancelTimerAlarm(activityId) {\n        if (this.isAndroid) {\n            try {\n                window.AndroidAPI.cancelTimerAlarm(activityId);\n            } catch (error) {\n                console.error('Error canceling timer alarm:', error);\n            }\n        }\n    }\n\n    /**\n     * Cancel all timer alarms\n     * @param {number[]} activityIds - Array of activity identifiers\n     */\n    cancelAllTimerAlarms(activityIds) {\n        if (this.isAndroid && activityIds && activityIds.length > 0) {\n            try {\n                window.AndroidAPI.cancelAllTimerAlarms(activityIds);\n            } catch (error) {\n                console.error('Error canceling all timer alarms:', error);\n            }\n        }\n    }\n\n    /**\n     * Play completion sound and vibration\n     * Used for timer completion alerts\n     */\n    playCompletionAlert() {\n        this.playSound();\n        this.vibratePattern([200, 100, 200, 100, 500]);\n    }\n\n    /**\n     * Play start sound and vibration\n     * Used when starting timers\n     */\n    playStartAlert() {\n        this.vibrate(100);\n    }\n}\n\n// Export singleton instance\nexport const androidAPI = new AndroidAPIService();\nexport default androidAPI;","import { useState, useEffect, useCallback } from 'react';\nimport { saveAppData, loadAppData, saveDarkMode, loadDarkMode, saveHideBalance, loadHideBalance } from '../utils/storageUtils';\n\n/**\n * Custom hook for managing localStorage persistence\n */\nexport function useLocalStorage() {\n    const [isLoaded, setIsLoaded] = useState(false);\n\n    // Set loaded immediately on mount\n    useEffect(() => {\n        setIsLoaded(true);\n    }, []);\n\n    /**\n     * Save app state to localStorage\n     */\n    const saveState = useCallback((activities, balance, runningTimers, logs) => {\n        const data = {\n            activities,\n            balance,\n            runningTimers,\n            logs,\n            lastSaved: Date.now()\n        };\n        return saveAppData(data);\n    }, []);\n\n    /**\n     * Load app state from localStorage\n     */\n    const loadState = useCallback(() => {\n        const defaultData = {\n            activities: [],\n            balance: 0,\n            runningTimers: {},\n            logs: [],\n            lastSaved: null\n        };\n\n        const data = loadAppData(defaultData);\n        return data;\n    }, []);\n\n    /**\n     * Auto-save function that debounces saves\n     */\n    const createAutoSave = useCallback((activities, balance, runningTimers, logs) => {\n        let timeoutId;\n\n        return () => {\n            clearTimeout(timeoutId);\n            timeoutId = setTimeout(() => {\n                saveState(activities, balance, runningTimers, logs);\n            }, 1000); // Save after 1 second of inactivity\n        };\n    }, [saveState]);\n\n    return {\n        isLoaded,\n        saveState,\n        loadState,\n        createAutoSave\n    };\n}\n\n/**\n * Custom hook for managing dark mode preference\n */\nexport function useDarkMode() {\n    const [darkMode, setDarkMode] = useState(() => loadDarkMode());\n\n    const toggleDarkMode = useCallback(() => {\n        setDarkMode(prev => {\n            const newValue = !prev;\n            saveDarkMode(newValue);\n            return newValue;\n        });\n    }, []);\n\n    const setDarkModeValue = useCallback((value) => {\n        setDarkMode(value);\n        saveDarkMode(value);\n    }, []);\n\n    return {\n        darkMode,\n        toggleDarkMode,\n        setDarkMode: setDarkModeValue\n    };\n}\n\n/**\n * Custom hook for managing hide balance preference\n */\nexport function useHideBalance() {\n    const [hideBalance, setHideBalance] = useState(() => loadHideBalance());\n\n    const toggleHideBalance = useCallback(() => {\n        setHideBalance(prev => {\n            const newValue = !prev;\n            saveHideBalance(newValue);\n            return newValue;\n        });\n    }, []);\n\n    const setHideBalanceValue = useCallback((value) => {\n        setHideBalance(value);\n        saveHideBalance(value);\n    }, []);\n\n    return {\n        hideBalance,\n        toggleHideBalance,\n        setHideBalance: setHideBalanceValue\n    };\n}\n\n/**\n * Custom hook for managing app preferences\n */\nexport function useAppPreferences() {\n    const { darkMode, toggleDarkMode, setDarkMode } = useDarkMode();\n    const { hideBalance, toggleHideBalance, setHideBalance } = useHideBalance();\n\n    return {\n        darkMode,\n        toggleDarkMode,\n        setDarkMode,\n        hideBalance,\n        toggleHideBalance,\n        setHideBalance\n    };\n}","import React, { useState, useEffect } from 'react';\nimport ActivityItem from './components/ActivityItem';\nimport TimerDisplay from './components/TimerDisplay';\nimport AddActivityForm from './components/AddActivityForm';\nimport SettingsModal from './components/SettingsModal';\nimport AboutModal from './components/AboutModal';\nimport OnboardingModal from './components/OnboardingModal';\nimport { Eye, EyeOff, Sun, Moon, Plus, Settings, Info } from './components/Icons';\nimport { useActivities } from './hooks/useActivities';\nimport { useTimers } from './hooks/useTimers';\nimport { useLogs } from './hooks/useLogs';\nimport { useLocalStorage, useAppPreferences } from './hooks/useLocalStorage';\nimport { SUGGESTED_ACTIVITIES, DEFAULT_NEW_ACTIVITY } from './constants/activities';\nimport { formatTime } from './utils/timeUtils';\nimport { formatPoints } from './utils/pointUtils';\nimport androidAPI from './services/androidAPI';\n\nfunction App() {\n    // Load initial state from localStorage\n    const { isLoaded, saveState, loadState } = useLocalStorage();\n    const { darkMode, toggleDarkMode, hideBalance, toggleHideBalance } = useAppPreferences();\n\n    // Initialize state\n    const [initialData, setInitialData] = useState(null);\n\n    useEffect(() => {\n        const data = loadState();\n        setInitialData(data);\n    }, [loadState]);\n\n    // Core app hooks\n    const {\n        activities,\n        balance,\n        addActivity,\n        updateActivity,\n        deleteActivity,\n        getActivity,\n        completeActivity,\n        adjustBalance,\n        setActivities,\n        setBalance\n    } = useActivities(initialData?.activities || [], initialData?.balance || 0);\n\n    const {\n        runningTimers,\n        timerDisplays,\n        startTimer,\n        pauseTimer,\n        resumeTimer,\n        resetTimer,\n        stopTimer,\n        getDisplayTime,\n        isTimerRunning,\n        isTimerPaused,\n        isTimerActive,\n        getElapsedTime\n    } = useTimers();\n\n    const {\n        logs,\n        logActivityCompletion,\n        logTimerSession,\n        logTimerStart,\n        logTimerPause,\n        logTimerResume,\n        logBalanceAdjustment,\n        logActivityCreated,\n        logActivityEdited,\n        logActivityDeleted,\n        editLogEntry,\n        clearLogs,\n        setLogs\n    } = useLogs(initialData?.logs || []);\n\n    // UI State\n    const [editingId, setEditingId] = useState(null);\n    const [editValues, setEditValues] = useState({});\n    const [showAddForm, setShowAddForm] = useState(false);\n    const [newActivity, setNewActivity] = useState(DEFAULT_NEW_ACTIVITY);\n    const [showSettings, setShowSettings] = useState(false);\n    const [showAbout, setShowAbout] = useState(false);\n    const [showOnboarding, setShowOnboarding] = useState(false);\n    const [showAboutOnFirstVisit, setShowAboutOnFirstVisit] = useState(() => {\n        const seen = localStorage.getItem('memento-onboarding-seen');\n        return !seen; // Show About first if not seen before\n    });\n    const [sortBy, setSortBy] = useState('name');\n    const [completionAlert, setCompletionAlert] = useState(null);\n    const [countdownPrompt, setCountdownPrompt] = useState(null);\n\n    // Auto-save effect\n    useEffect(() => {\n        if (isLoaded && initialData) {\n            const timeoutId = setTimeout(() => {\n                saveState(activities, balance, runningTimers, logs);\n            }, 1000);\n            return () => clearTimeout(timeoutId);\n        }\n    }, [activities, balance, runningTimers, logs, isLoaded, initialData, saveState]);\n\n    // Initialize activities and balance from loaded data\n    useEffect(() => {\n        if (initialData && isLoaded) {\n            setActivities(initialData.activities || []);\n            setBalance(initialData.balance || 0);\n            setLogs(initialData.logs || []);\n        }\n    }, [initialData, isLoaded, setActivities, setBalance, setLogs]);\n\n    // Timer completion effect\n    useEffect(() => {\n        Object.entries(runningTimers).forEach(([activityId, timer]) => {\n            if (timer.isCountdown) {\n                const elapsed = getElapsedTime(parseInt(activityId));\n                if (elapsed >= timer.totalSeconds && !timer.isPaused) {\n                    handleCompleteTimer(parseInt(activityId));\n                }\n            }\n        });\n    }, [timerDisplays, runningTimers, getElapsedTime]);\n\n    // Activity management\n    const handleAddActivity = () => {\n        if (!newActivity.name.trim()) return;\n\n        const activity = addActivity(newActivity);\n        logActivityCreated(activity);\n\n        setNewActivity(DEFAULT_NEW_ACTIVITY);\n        setShowAddForm(false);\n    };\n\n    const handleEditActivity = (activity) => {\n        setEditingId(activity.id);\n        setEditValues({ ...activity });\n    };\n\n    const handleSaveEdit = () => {\n        const oldActivity = getActivity(editingId);\n        updateActivity(editingId, editValues);\n        logActivityEdited(editValues, oldActivity);\n        setEditingId(null);\n        setEditValues({});\n    };\n\n    const handleCancelEdit = () => {\n        setEditingId(null);\n        setEditValues({});\n    };\n\n    const handleDeleteActivity = (activityId) => {\n        const activity = getActivity(activityId);\n        if (activity) {\n            logActivityDeleted(activity);\n        }\n\n        deleteActivity(activityId);\n\n        // Stop timer if running\n        if (isTimerActive(activityId)) {\n            stopTimer(activityId);\n        }\n    };\n\n    const handleEditChange = (field, value) => {\n        setEditValues(prev => ({ ...prev, [field]: value }));\n    };\n\n    const handleNewActivityChange = (field, value) => {\n        setNewActivity(prev => ({ ...prev, [field]: value }));\n    };\n\n    const handleAddSuggestedActivity = (suggestedActivity) => {\n        const activity = addActivity(suggestedActivity);\n        logActivityCreated(activity);\n        setShowAddForm(false);\n    };\n\n    // Timer management\n    const handleStartTimer = (activity) => {\n        if (activity.mode === 'single') {\n            handleCompleteSingleActivity(activity);\n            return;\n        }\n\n        // Check if timer is already active for this activity\n        if (isTimerActive(activity.id)) {\n            // Timer is active - toggle pause/resume\n            if (isTimerPaused(activity.id)) {\n                // Resume paused timer\n                resumeTimer(activity.id);\n                logTimerResume(activity);\n            } else {\n                // Pause running timer\n                pauseTimer(activity.id);\n                const elapsed = getDisplayTime(activity.id);\n                logTimerPause(activity, elapsed);\n            }\n            return;\n        }\n\n        // No active timer - start new one\n        if (activity.isCountdown || activity.mode === 'countdown') {\n            setCountdownPrompt({\n                activity,\n                hours: 0,\n                minutes: 25, // Default 25 minutes\n                seconds: 0\n            });\n            return;\n        }\n\n        // Start new stopwatch\n        startTimer(activity);\n        logTimerStart(activity, false, 0);\n    };\n\n    const handleStartCountdown = () => {\n        if (!countdownPrompt) return;\n\n        const { activity, hours, minutes, seconds } = countdownPrompt;\n        const totalSeconds = (hours * 3600) + (minutes * 60) + seconds;\n\n        if (totalSeconds > 0) {\n            startTimer(activity, totalSeconds);\n            logTimerStart(activity, true, totalSeconds);\n        }\n\n        setCountdownPrompt(null);\n    };\n\n    const handlePauseTimer = (activityId) => {\n        const activity = getActivity(activityId);\n        const elapsed = getElapsedTime(activityId);\n\n        pauseTimer(activityId);\n\n        if (activity) {\n            logTimerPause(activity, elapsed);\n        }\n    };\n\n    const handleResumeTimer = (activityId) => {\n        const activity = getActivity(activityId);\n\n        resumeTimer(activityId);\n\n        if (activity) {\n            logTimerResume(activity);\n        }\n    };\n\n    const handleResetTimer = (activityId) => {\n        const activity = getActivity(activityId);\n\n        resetTimer(activityId);\n\n        if (activity) {\n            // Log timer reset event\n            logTimerStart(activity, activity.isCountdown || activity.mode === 'countdown', 0);\n        }\n    };\n\n    const handleCompleteTimer = (activityId) => {\n        const activity = getActivity(activityId);\n        if (!activity) return;\n\n        const timer = runningTimers[activityId];\n        if (!timer) return;\n\n        const elapsed = getElapsedTime(activityId);\n        const pointsEarned = completeActivity(activity, elapsed);\n\n        // Calculate actual start time considering pauses\n        const now = Date.now();\n        const actualStartTime = now - (elapsed * 1000);\n\n        // Log the complete timer session with start/stop times\n        logTimerSession(\n            activity,\n            actualStartTime, // Start time\n            now, // End time\n            elapsed,\n            pointsEarned,\n            timer.isCountdown\n        );\n\n        setCompletionAlert({\n            activityName: activity.name,\n            pointsEarned,\n            timeSpent: elapsed\n        });\n\n        // Play completion sound\n        if (androidAPI.isAvailable()) {\n            androidAPI.playCompletionAlert();\n        }\n\n        stopTimer(activityId);\n\n        // Auto-hide alert after 5 seconds\n        setTimeout(() => setCompletionAlert(null), 5000);\n    };\n\n    const handleCompleteSingleActivity = (activity) => {\n        const pointsEarned = completeActivity(activity);\n        logActivityCompletion(activity, 0, pointsEarned);\n\n        setCompletionAlert({\n            activityName: activity.name,\n            pointsEarned,\n            timeSpent: 0\n        });\n\n        // Play completion sound\n        if (androidAPI.isAvailable()) {\n            androidAPI.playCompletionAlert();\n        }\n\n        // Auto-hide alert after 5 seconds\n        setTimeout(() => setCompletionAlert(null), 5000);\n    };\n\n    // Settings handlers\n    const handleBalanceAdjustment = (amount, reason) => {\n        adjustBalance(amount);\n        logBalanceAdjustment(amount, reason);\n    };\n\n    const handleClearLogs = () => {\n        clearLogs();\n    };\n\n    const handleEditLog = (logId, newPoints, newElapsedSeconds) => {\n        const originalLog = logs.find(l => l.id === logId);\n        if (!originalLog) return;\n\n        const pointsDifference = newPoints - (originalLog.metadata.pointsEarned || 0);\n\n        // Adjust the balance by the difference\n        setBalance(prev => prev + pointsDifference);\n\n        // Update the log entry\n        editLogEntry(logId, newPoints, newElapsedSeconds);\n    };\n\n    const handleClearCache = () => {\n        // Clear temporary data, keep activities and balance\n        clearLogs();\n    };\n\n    const handleWipeData = () => {\n        setActivities([]);\n        setBalance(0);\n        clearLogs();\n    };\n\n    // Activity sorting and filtering\n    const sortActivities = (actsList) => {\n        const sorted = [...actsList];\n        switch (sortBy) {\n            case 'name':\n                return sorted.sort((a, b) => a.name.localeCompare(b.name));\n            case 'rate-asc':\n                return sorted.sort((a, b) => {\n                    const aValue = a.mode === 'single' ? a.points : a.rate;\n                    const bValue = b.mode === 'single' ? b.points : b.rate;\n                    return aValue - bValue;\n                });\n            case 'rate-desc':\n                return sorted.sort((a, b) => {\n                    const aValue = a.mode === 'single' ? a.points : a.rate;\n                    const bValue = b.mode === 'single' ? b.points : b.rate;\n                    return bValue - aValue;\n                });\n            default:\n                return sorted;\n        }\n    };\n\n    const creditActivities = sortActivities(activities.filter(a => a.type === 'credit'));\n    const debitActivities = sortActivities(activities.filter(a => a.type === 'debit'));\n\n    // Get running timers for display\n    const activeTimers = Object.entries(runningTimers)\n        .map(([activityId, timer]) => {\n            // Keep the original ID as number, don't use parseInt which truncates decimals\n            const id = Number(activityId);\n\n            const activity = getActivity(id);\n            if (!activity) return null;\n\n            const displayTime = getDisplayTime(id);\n            let elapsedTime = getElapsedTime(id);\n\n            // For countdown timers, calculate actual elapsed time for display\n            if (timer.isCountdown) {\n                if (timer.isPaused) {\n                    elapsedTime = timer.pausedElapsed;\n                } else {\n                    elapsedTime = Math.floor((Date.now() - timer.startTime) / 1000);\n                    elapsedTime = Math.min(elapsedTime, timer.totalSeconds);\n                }\n            }\n\n            return {\n                activity,\n                displayTime,\n                elapsedTime,\n                isRunning: isTimerRunning(id),\n                isPaused: isTimerPaused(id),\n                id\n            };\n        })\n        .filter(timer => timer !== null);\n\n    if (!isLoaded) {\n        return (\n            <div className={`min-h-screen flex items-center justify-center ${darkMode ? 'bg-gray-900' : 'bg-blue-50'}`}>\n                <div className=\"text-center\">\n                    <div className=\"animate-spin rounded-full h-12 w-12 border-b-2 border-indigo-600 mx-auto mb-4\"></div>\n                    <p className={darkMode ? 'text-white' : 'text-gray-800'}>Loading Memento Vivere...</p>\n                </div>\n            </div>\n        );\n    }\n\n    return (\n        <div className={`min-h-screen transition-colors ${darkMode ? 'bg-gradient-to-br from-gray-900 to-gray-800' : 'bg-gradient-to-br from-blue-50 to-indigo-100'} p-3 md:p-6 pt-8 md:pt-12`}>\n            <div className=\"max-w-4xl mx-auto\">\n                {/* Header */}\n                <div className={`${darkMode ? 'bg-gray-800 border border-gray-700' : 'bg-white'} rounded-lg shadow-lg p-4 md:p-8 mb-8 transition-colors`}>\n                    <div className=\"flex flex-col md:flex-row justify-between items-start md:items-start mb-6 gap-4\">\n                        <div>\n                            <h1 className={`text-3xl md:text-4xl font-bold ${darkMode ? 'text-white' : 'text-gray-800'} mb-1 md:mb-2`}>\n                                Memento Vivere\n                            </h1>\n                            <p className={`${darkMode ? 'text-gray-400' : 'text-gray-600'} text-sm md:text-base`}>\n                                {hideBalance\n                                    ? \"Time is the only currency you spend without ever knowing the balance.\"\n                                    : \"A man who dares to waste one hour of time has not discovered the value of life.\"\n                                }\n                            </p>\n                        </div>\n                        <div className=\"flex flex-wrap gap-2 w-full md:w-auto\">\n                            <button\n                                onClick={toggleHideBalance}\n                                className={`flex items-center gap-2 px-3 md:px-4 py-2 rounded-lg font-semibold transition flex-1 md:flex-none justify-center ${darkMode ? 'bg-gray-700 hover:bg-gray-600 text-white' : 'bg-gray-500 hover:bg-gray-600 text-white'}`}\n                                title={hideBalance ? \"Show balance\" : \"Hide balance\"}\n                            >\n                                {hideBalance ? <EyeOff size={18} /> : <Eye size={18} />}\n                                <span className=\"md:hidden text-xs\">Balance</span>\n                            </button>\n                            <button\n                                onClick={toggleDarkMode}\n                                className={`flex items-center gap-2 px-3 md:px-4 py-2 rounded-lg font-semibold transition flex-1 md:flex-none justify-center ${darkMode ? 'bg-gray-700 hover:bg-gray-600 text-yellow-300' : 'bg-gray-500 hover:bg-gray-600 text-white'}`}\n                            >\n                                {darkMode ? <Sun size={18} /> : <Moon size={18} />}\n                                <span className=\"md:hidden text-xs\">Theme</span>\n                            </button>\n                            <button\n                                onClick={() => setShowSettings(true)}\n                                className={`flex items-center gap-2 px-3 md:px-4 py-2 rounded-lg font-semibold transition flex-1 md:flex-none justify-center ${darkMode ? 'bg-gray-700 hover:bg-gray-600 text-white' : 'bg-gray-500 hover:bg-gray-600 text-white'}`}\n                            >\n                                ⚙️ <span className=\"md:hidden text-xs\">Settings</span>\n                            </button>\n                            <button\n                                onClick={() => setShowAbout(true)}\n                                className={`flex items-center gap-2 px-3 md:px-4 py-2 rounded-lg font-semibold transition flex-1 md:flex-none justify-center ${darkMode ? 'bg-gray-700 hover:bg-gray-600 text-white' : 'bg-gray-500 hover:bg-gray-600 text-white'}`}\n                            >\n                                ℹ️ <span className=\"md:hidden text-xs\">About</span>\n                            </button>\n                        </div>\n                    </div>\n\n                    {/* Balance Display */}\n                    <div className={`${darkMode ? 'bg-gradient-to-r from-cyan-600 to-blue-700' : 'bg-gradient-to-r from-green-400 to-blue-500'} rounded-lg p-4 md:p-6 text-white transition-colors ${hideBalance ? 'opacity-30' : ''}`}>\n                        <p className=\"text-xs md:text-sm font-semibold opacity-90\">Current Balance</p>\n                        <p className=\"text-4xl md:text-5xl font-bold\">\n                            {hideBalance ? '•••' : Math.round(balance)}\n                        </p>\n                        <p className=\"text-xs opacity-75 mt-1\">minutes available</p>\n                    </div>\n                </div>\n\n                {/* Active Timers */}\n                {activeTimers.length > 0 && (\n                    <div className={`${darkMode ? 'bg-gray-800 border border-gray-700' : 'bg-white'} rounded-lg shadow-lg p-4 md:p-8 mb-8 transition-colors`}>\n                        <h2 className={`text-xl font-bold mb-4 ${darkMode ? 'text-white' : 'text-gray-800'}`}>\n                            Active Timers\n                        </h2>\n                        <div className=\"grid gap-4 md:grid-cols-2\">\n                            {activeTimers.map(timer => (\n                                <TimerDisplay\n                                    key={timer.id}\n                                    activity={timer.activity}\n                                    displayTime={timer.displayTime}\n                                    elapsedTime={timer.elapsedTime}\n                                    isRunning={timer.isRunning}\n                                    isPaused={timer.isPaused}\n                                    onPause={() => handlePauseTimer(timer.id)}\n                                    onResume={() => handleResumeTimer(timer.id)}\n                                    onReset={() => handleResetTimer(timer.id)}\n                                    onStop={() => handleCompleteTimer(timer.id)}\n                                    darkMode={darkMode}\n                                />\n                            ))}\n                        </div>\n                    </div>\n                )}\n\n                {/* Add Activity Form */}\n                {showAddForm && (\n                    <div className=\"mb-8\">\n                        <AddActivityForm\n                            newActivity={newActivity}\n                            onActivityChange={handleNewActivityChange}\n                            onAdd={handleAddActivity}\n                            onAddSuggested={handleAddSuggestedActivity}\n                            onCancel={() => setShowAddForm(false)}\n                            darkMode={darkMode}\n                        />\n                    </div>\n                )}\n\n                {/* Activities */}\n                <div className={`${darkMode ? 'bg-gray-800 border border-gray-700' : 'bg-white'} rounded-lg shadow-lg p-4 md:p-8 transition-colors`}>\n                    <div className=\"flex flex-col md:flex-row justify-between items-start md:items-center mb-6 gap-4\">\n                        <h2 className={`text-xl font-bold ${darkMode ? 'text-white' : 'text-gray-800'}`}>\n                            Activities\n                        </h2>\n                        <div className=\"flex flex-wrap gap-2 w-full md:w-auto\">\n                            <select\n                                value={sortBy}\n                                onChange={(e) => setSortBy(e.target.value)}\n                                className={`border rounded px-3 py-1 text-sm ${darkMode ? 'bg-gray-700 border-gray-600 text-white' : 'border-gray-300'}`}\n                            >\n                                <option value=\"name\">Sort by Name</option>\n                                <option value=\"rate-desc\">Sort by Rate (High to Low)</option>\n                                <option value=\"rate-asc\">Sort by Rate (Low to High)</option>\n                            </select>\n                            <button\n                                onClick={() => setShowAddForm(true)}\n                                className=\"flex items-center gap-1 bg-green-500 hover:bg-green-600 text-white px-4 py-2 rounded font-semibold transition text-sm\"\n                            >\n                                <Plus size={16} /> Add Activity\n                            </button>\n                        </div>\n                    </div>\n\n                    {/* Credit Activities */}\n                    {creditActivities.length > 0 && (\n                        <div className=\"mb-8\">\n                            <h3 className={`text-lg font-semibold mb-4 ${darkMode ? 'text-green-400' : 'text-green-600'}`}>\n                                Credit Activities (Earn Points)\n                            </h3>\n                            <div className=\"space-y-3\">\n                                {creditActivities.map(activity => (\n                                    <ActivityItem\n                                        key={activity.id}\n                                        activity={activity}\n                                        isActive={isTimerActive(activity.id)}\n                                        isRunning={isTimerRunning(activity.id)}\n                                        isPaused={isTimerPaused(activity.id)}\n                                        isEditing={editingId === activity.id}\n                                        editValues={editValues}\n                                        onStartTimer={() => handleStartTimer(activity)}\n                                        onDelete={() => handleDeleteActivity(activity.id)}\n                                        onEdit={() => handleEditActivity(activity)}\n                                        onSaveEdit={handleSaveEdit}\n                                        onCancelEdit={handleCancelEdit}\n                                        onEditChange={handleEditChange}\n                                        darkMode={darkMode}\n                                    />\n                                ))}\n                            </div>\n                        </div>\n                    )}\n\n                    {/* Debit Activities */}\n                    {debitActivities.length > 0 && (\n                        <div>\n                            <h3 className={`text-lg font-semibold mb-4 ${darkMode ? 'text-red-400' : 'text-red-600'}`}>\n                                Debit Activities (Spend Points)\n                            </h3>\n                            <div className=\"space-y-3\">\n                                {debitActivities.map(activity => (\n                                    <ActivityItem\n                                        key={activity.id}\n                                        activity={activity}\n                                        isActive={isTimerActive(activity.id)}\n                                        isRunning={isTimerRunning(activity.id)}\n                                        isPaused={isTimerPaused(activity.id)}\n                                        isEditing={editingId === activity.id}\n                                        editValues={editValues}\n                                        onStartTimer={() => handleStartTimer(activity)}\n                                        onDelete={() => handleDeleteActivity(activity.id)}\n                                        onEdit={() => handleEditActivity(activity)}\n                                        onSaveEdit={handleSaveEdit}\n                                        onCancelEdit={handleCancelEdit}\n                                        onEditChange={handleEditChange}\n                                        darkMode={darkMode}\n                                    />\n                                ))}\n                            </div>\n                        </div>\n                    )}\n\n                    {/* No Activities Message */}\n                    {activities.length === 0 && (\n                        <div className=\"text-center py-12\">\n                            <p className={`text-lg ${darkMode ? 'text-gray-400' : 'text-gray-600'} mb-4`}>\n                                No activities yet. Add your first activity to get started!\n                            </p>\n                            <button\n                                onClick={() => setShowAddForm(true)}\n                                className=\"bg-indigo-500 hover:bg-indigo-600 text-white px-6 py-3 rounded-lg font-semibold transition\"\n                            >\n                                Add Your First Activity\n                            </button>\n                        </div>\n                    )}\n                </div>\n\n                {/* Settings Modal */}\n                <SettingsModal\n                    isOpen={showSettings}\n                    onClose={() => setShowSettings(false)}\n                    balance={balance}\n                    logs={logs}\n                    darkMode={darkMode}\n                    onBalanceAdjustment={handleBalanceAdjustment}\n                    onClearLogs={handleClearLogs}\n                    onClearCache={handleClearCache}\n                    onWipeData={handleWipeData}\n                    onEditLog={handleEditLog}\n                />\n\n                {/* About Modal - First Visit OR from menu */}\n                <AboutModal\n                    isOpen={showAbout || showAboutOnFirstVisit}\n                    onClose={() => {\n                        setShowAbout(false);\n                        setShowAboutOnFirstVisit(false);\n                    }}\n                    onShowOnboarding={() => {\n                        setShowAbout(false);\n                        setShowAboutOnFirstVisit(false);\n                        setShowOnboarding(true);\n                    }}\n                    darkMode={darkMode}\n                    isFirstVisit={showAboutOnFirstVisit}\n                />\n\n                {/* Onboarding Modal */}\n                <OnboardingModal\n                    isOpen={showOnboarding}\n                    onClose={() => setShowOnboarding(false)}\n                    darkMode={darkMode}\n                />\n\n                {/* Completion Alert */}\n                {completionAlert && (\n                    <div className=\"fixed bottom-4 right-4 z-50\">\n                        <div className={`${darkMode ? 'bg-gray-800 border border-gray-700' : 'bg-white'} rounded-lg shadow-2xl p-4 max-w-sm animate-bounce-once`}>\n                            <h3 className={`font-bold text-green-600 mb-2`}>\n                                Activity Complete! 🎉\n                            </h3>\n                            <p className={`${darkMode ? 'text-white' : 'text-gray-800'} mb-1`}>\n                                {completionAlert.activityName}\n                            </p>\n                            <p className={`text-sm ${darkMode ? 'text-gray-400' : 'text-gray-600'}`}>\n                                {formatPoints(completionAlert.pointsEarned)} pts\n                                {completionAlert.timeSpent > 0 && ` • ${formatTime(completionAlert.timeSpent)}`}\n                            </p>\n                            <button\n                                onClick={() => setCompletionAlert(null)}\n                                className=\"absolute top-2 right-2 text-gray-500 hover:text-gray-700\"\n                            >\n                                ×\n                            </button>\n                        </div>\n                    </div>\n                )}\n\n                {/* Countdown Prompt */}\n                {countdownPrompt && (\n                    <div className=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50\">\n                        <div className={`${darkMode ? 'bg-gray-800 border border-gray-700' : 'bg-white'} rounded-lg shadow-2xl p-6 max-w-sm w-full`}>\n                            <h3 className={`text-xl font-bold mb-4 ${darkMode ? 'text-white' : 'text-gray-800'}`}>\n                                Set Countdown Duration\n                            </h3>\n                            <p className={`text-sm mb-6 ${darkMode ? 'text-gray-400' : 'text-gray-600'}`}>\n                                {countdownPrompt.activity.name}\n                            </p>\n                            <div className=\"grid grid-cols-3 gap-4 mb-6\">\n                                <div>\n                                    <label className={`block text-sm font-semibold mb-2 ${darkMode ? 'text-gray-300' : 'text-gray-700'}`}>\n                                        Hours\n                                    </label>\n                                    <input\n                                        type=\"number\"\n                                        value={countdownPrompt.hours}\n                                        onChange={(e) => setCountdownPrompt(prev => ({\n                                            ...prev,\n                                            hours: Math.max(0, parseInt(e.target.value) || 0)\n                                        }))}\n                                        onFocus={(e) => e.target.select()}\n                                        min=\"0\"\n                                        max=\"23\"\n                                        className={`w-full border-2 rounded px-3 py-2 text-center text-lg focus:outline-none focus:border-indigo-500 ${darkMode ? 'bg-gray-700 border-gray-600 text-white' : 'border-gray-300'}`}\n                                    />\n                                </div>\n                                <div>\n                                    <label className={`block text-sm font-semibold mb-2 ${darkMode ? 'text-gray-300' : 'text-gray-700'}`}>\n                                        Minutes\n                                    </label>\n                                    <input\n                                        type=\"number\"\n                                        value={countdownPrompt.minutes}\n                                        onChange={(e) => setCountdownPrompt(prev => ({\n                                            ...prev,\n                                            minutes: Math.max(0, Math.min(59, parseInt(e.target.value) || 0))\n                                        }))}\n                                        onFocus={(e) => e.target.select()}\n                                        min=\"0\"\n                                        max=\"59\"\n                                        className={`w-full border-2 rounded px-3 py-2 text-center text-lg focus:outline-none focus:border-indigo-500 ${darkMode ? 'bg-gray-700 border-gray-600 text-white' : 'border-gray-300'}`}\n                                        autoFocus\n                                    />\n                                </div>\n                                <div>\n                                    <label className={`block text-sm font-semibold mb-2 ${darkMode ? 'text-gray-300' : 'text-gray-700'}`}>\n                                        Seconds\n                                    </label>\n                                    <input\n                                        type=\"number\"\n                                        value={countdownPrompt.seconds}\n                                        onChange={(e) => setCountdownPrompt(prev => ({\n                                            ...prev,\n                                            seconds: Math.max(0, Math.min(59, parseInt(e.target.value) || 0))\n                                        }))}\n                                        onFocus={(e) => e.target.select()}\n                                        min=\"0\"\n                                        max=\"59\"\n                                        className={`w-full border-2 rounded px-3 py-2 text-center text-lg focus:outline-none focus:border-indigo-500 ${darkMode ? 'bg-gray-700 border-gray-600 text-white' : 'border-gray-300'}`}\n                                    />\n                                </div>\n                            </div>\n                            <div className=\"flex gap-2\">\n                                <button\n                                    onClick={handleStartCountdown}\n                                    className=\"flex-1 bg-green-500 hover:bg-green-600 text-white px-4 py-3 rounded-lg font-semibold transition\"\n                                >\n                                    Start Countdown\n                                </button>\n                                <button\n                                    onClick={() => setCountdownPrompt(null)}\n                                    className=\"flex-1 bg-gray-500 hover:bg-gray-600 text-white px-4 py-3 rounded-lg font-semibold transition\"\n                                >\n                                    Cancel\n                                </button>\n                            </div>\n                        </div>\n                    </div>\n                )}\n            </div>\n        </div>\n    );\n}\n\nexport default App;","import { useState, useEffect, useRef } from 'react';\nimport { calculateElapsedTime, calculateCountdownTime, isTimerComplete } from '../utils/timeUtils';\nimport androidAPI from '../services/androidAPI';\n\n/**\n * Custom hook for managing timers\n * Handles multiple concurrent timers with different modes (stopwatch, countdown, single)\n */\nexport function useTimers() {\n    const [runningTimers, setRunningTimers] = useState({}); // { activityId: { startTime, isPaused, pausedElapsed, isCountdown, totalSeconds } }\n    const [timerDisplays, setTimerDisplays] = useState({}); // { activityId: elapsedSeconds } - for UI updates\n    const intervalRef = useRef(null);\n\n    // Update timer displays every second\n    useEffect(() => {\n        intervalRef.current = setInterval(() => {\n            setRunningTimers(currentTimers => {\n                const newDisplays = {};\n                let hasActiveTimers = false;\n\n                Object.entries(currentTimers).forEach(([activityId, timer]) => {\n                    hasActiveTimers = true;\n                    const elapsedSeconds = calculateElapsedTime(\n                        timer.startTime,\n                        timer.isPaused,\n                        timer.pausedElapsed\n                    );\n\n                    if (timer.isCountdown) {\n                        const remainingSeconds = calculateCountdownTime(timer.totalSeconds, elapsedSeconds);\n                        newDisplays[activityId] = remainingSeconds;\n\n                        // Check if countdown completed\n                        if (isTimerComplete(timer.totalSeconds, elapsedSeconds) && !timer.isPaused) {\n                            // Timer completed - will be handled by completion callback\n                        }\n                    } else {\n                        newDisplays[activityId] = elapsedSeconds;\n                    }\n                });\n\n                setTimerDisplays(newDisplays);\n                return currentTimers;\n            });\n        }, 1000);\n\n        return () => {\n            if (intervalRef.current) {\n                clearInterval(intervalRef.current);\n            }\n        };\n    }, []);\n\n    /**\n     * Start a new timer for an activity\n     */\n    const startTimer = (activity, totalSeconds = 0) => {\n        const now = Date.now();\n        const isCountdown = activity.isCountdown || activity.mode === 'countdown';\n\n        setRunningTimers(prev => ({\n            ...prev,\n            [activity.id]: {\n                startTime: now,\n                isPaused: false,\n                pausedElapsed: 0,\n                isCountdown,\n                totalSeconds: isCountdown ? totalSeconds : 0\n            }\n        }));\n\n        // Schedule Android alarm for countdown timers\n        if (isCountdown && totalSeconds > 0 && androidAPI.isAvailable()) {\n            androidAPI.scheduleTimerAlarm(activity.id, activity.name, totalSeconds * 1000);\n        }\n\n        // Play start sound\n        if (androidAPI.isAvailable()) {\n            androidAPI.playStartAlert();\n        }\n    };\n\n    /**\n     * Pause a running timer\n     */\n    const pauseTimer = (activityId) => {\n        setRunningTimers(prev => {\n            const timer = prev[activityId];\n            if (!timer || timer.isPaused) return prev;\n\n            const elapsedSeconds = calculateElapsedTime(timer.startTime, false, timer.pausedElapsed);\n\n            return {\n                ...prev,\n                [activityId]: {\n                    ...timer,\n                    isPaused: true,\n                    pausedElapsed: elapsedSeconds\n                }\n            };\n        });\n\n        // Cancel Android alarm when pausing\n        if (androidAPI.isAvailable()) {\n            androidAPI.cancelTimerAlarm(activityId);\n        }\n    };\n\n    /**\n     * Resume a paused timer\n     */\n    const resumeTimer = (activityId) => {\n        setRunningTimers(prev => {\n            const timer = prev[activityId];\n            if (!timer || !timer.isPaused) return prev;\n\n            const now = Date.now();\n            const remainingSeconds = timer.isCountdown\n                ? Math.max(0, timer.totalSeconds - timer.pausedElapsed)\n                : 0;\n\n            // Reschedule Android alarm for countdown timers\n            if (timer.isCountdown && remainingSeconds > 0 && androidAPI.isAvailable()) {\n                androidAPI.scheduleTimerAlarm(activityId, 'Timer', remainingSeconds * 1000);\n            }\n\n            return {\n                ...prev,\n                [activityId]: {\n                    ...timer,\n                    startTime: now,\n                    isPaused: false\n                }\n            };\n        });\n    };\n\n    /**\n     * Reset a timer back to zero\n     */\n    const resetTimer = (activityId) => {\n        setRunningTimers(prev => {\n            const timer = prev[activityId];\n            if (!timer) return prev;\n\n            const now = Date.now();\n\n            // Cancel existing Android alarm\n            if (androidAPI.isAvailable()) {\n                androidAPI.cancelTimerAlarm(activityId);\n            }\n\n            // Reschedule for countdown timers\n            if (timer.isCountdown && timer.totalSeconds > 0 && androidAPI.isAvailable()) {\n                androidAPI.scheduleTimerAlarm(activityId, 'Timer', timer.totalSeconds * 1000);\n            }\n\n            return {\n                ...prev,\n                [activityId]: {\n                    ...timer,\n                    startTime: now,\n                    isPaused: false,\n                    pausedElapsed: 0\n                }\n            };\n        });\n\n        // Reset display time\n        setTimerDisplays(prev => ({\n            ...prev,\n            [activityId]: 0\n        }));\n    };\n\n    /**\n     * Stop and remove a timer\n     */\n    const stopTimer = (activityId) => {\n        setRunningTimers(prev => {\n            const newTimers = { ...prev };\n            delete newTimers[activityId];\n            return newTimers;\n        });\n\n        setTimerDisplays(prev => {\n            const newDisplays = { ...prev };\n            delete newDisplays[activityId];\n            return newDisplays;\n        });\n\n        // Cancel Android alarm\n        if (androidAPI.isAvailable()) {\n            androidAPI.cancelTimerAlarm(activityId);\n        }\n    };\n\n    /**\n     * Stop all running timers\n     */\n    const stopAllTimers = () => {\n        const activityIds = Object.keys(runningTimers);\n\n        setRunningTimers({});\n        setTimerDisplays({});\n\n        // Cancel all Android alarms\n        if (androidAPI.isAvailable() && activityIds.length > 0) {\n            androidAPI.cancelAllTimerAlarms(activityIds.map(id => parseInt(id)));\n        }\n    };\n\n    /**\n     * Get elapsed time for a specific timer\n     */\n    const getElapsedTime = (activityId) => {\n        const timer = runningTimers[activityId];\n        if (!timer) return 0;\n\n        return calculateElapsedTime(timer.startTime, timer.isPaused, timer.pausedElapsed);\n    };\n\n    /**\n     * Check if a timer is running\n     */\n    const isTimerRunning = (activityId) => {\n        return activityId in runningTimers && !runningTimers[activityId].isPaused;\n    };\n\n    /**\n     * Check if a timer is paused\n     */\n    const isTimerPaused = (activityId) => {\n        return activityId in runningTimers && runningTimers[activityId].isPaused;\n    };\n\n    /**\n     * Check if any timer is active (running or paused)\n     */\n    const isTimerActive = (activityId) => {\n        return activityId in runningTimers;\n    };\n\n    /**\n     * Get display time for a timer (handles countdown vs stopwatch)\n     */\n    const getDisplayTime = (activityId) => {\n        return timerDisplays[activityId] || 0;\n    };\n\n    /**\n     * Check if countdown timer has completed\n     */\n    const isCountdownComplete = (activityId) => {\n        const timer = runningTimers[activityId];\n        if (!timer || !timer.isCountdown) return false;\n\n        const elapsedSeconds = calculateElapsedTime(timer.startTime, timer.isPaused, timer.pausedElapsed);\n        return isTimerComplete(timer.totalSeconds, elapsedSeconds);\n    };\n\n    return {\n        runningTimers,\n        timerDisplays,\n        startTimer,\n        pauseTimer,\n        resumeTimer,\n        resetTimer,\n        stopTimer,\n        stopAllTimers,\n        getElapsedTime,\n        getDisplayTime,\n        isTimerRunning,\n        isTimerPaused,\n        isTimerActive,\n        isCountdownComplete\n    };\n}","import { useState, useCallback } from 'react';\n\n/**\n * Custom hook for managing activity logs\n */\nexport function useLogs(initialLogs = []) {\n    const [logs, setLogs] = useState(initialLogs);\n\n    /**\n     * Add a new log entry\n     */\n    const addLog = useCallback((action, details, metadata = {}) => {\n        const logEntry = {\n            timestamp: new Date().toISOString(),\n            action,\n            details,\n            metadata,\n            id: Date.now() + Math.random()\n        };\n\n        setLogs(prev => [logEntry, ...prev]); // Add to beginning for chronological order\n        return logEntry;\n    }, []);\n\n    /**\n     * Add activity completion log\n     */\n    const logActivityCompletion = useCallback((activity, elapsedSeconds, pointsEarned) => {\n        const details = activity.mode === 'single'\n            ? `Completed \"${activity.name}\" for ${pointsEarned > 0 ? '+' : ''}${Math.round(pointsEarned * 100) / 100} pts`\n            : `Completed \"${activity.name}\" in ${Math.floor(elapsedSeconds / 60)}:${(elapsedSeconds % 60).toString().padStart(2, '0')} for ${pointsEarned > 0 ? '+' : ''}${Math.round(pointsEarned * 100) / 100} pts`;\n\n        return addLog('activity_completed', details, {\n            activityId: activity.id,\n            activityName: activity.name,\n            activityType: activity.type,\n            activityMode: activity.mode,\n            elapsedSeconds,\n            pointsEarned,\n            rate: activity.rate || null,\n            points: activity.points || null,\n            editable: true // Mark as editable for point adjustments\n        });\n    }, [addLog]);\n\n    /**\n     * Add timer session log with start/stop times\n     */\n    const logTimerSession = useCallback((activity, startTime, endTime, elapsedSeconds, pointsEarned, wasCountdown = false) => {\n        const startDate = new Date(startTime);\n        const endDate = new Date(endTime);\n\n        const timeStr = `${Math.floor(elapsedSeconds / 60)}:${(elapsedSeconds % 60).toString().padStart(2, '0')}`;\n        const details = `Timer session: \"${activity.name}\" - ${timeStr} (${startDate.toLocaleTimeString()} to ${endDate.toLocaleTimeString()}) for ${pointsEarned > 0 ? '+' : ''}${Math.round(pointsEarned * 100) / 100} pts`;\n\n        return addLog('timer_session', details, {\n            activityId: activity.id,\n            activityName: activity.name,\n            activityType: activity.type,\n            activityMode: activity.mode,\n            startTime: startTime,\n            endTime: endTime,\n            elapsedSeconds,\n            pointsEarned,\n            originalPointsEarned: pointsEarned, // Store original for editing reference\n            rate: activity.rate || null,\n            points: activity.points || null,\n            wasCountdown,\n            editable: true\n        });\n    }, [addLog]);\n\n    /**\n     * Add timer start log\n     */\n    const logTimerStart = useCallback((activity, isCountdown, totalSeconds) => {\n        const details = isCountdown\n            ? `Started ${totalSeconds / 60} minute countdown for \"${activity.name}\"`\n            : `Started stopwatch for \"${activity.name}\"`;\n\n        return addLog('timer_started', details, {\n            activityId: activity.id,\n            activityName: activity.name,\n            isCountdown,\n            totalSeconds\n        });\n    }, [addLog]);\n\n    /**\n     * Add timer pause log\n     */\n    const logTimerPause = useCallback((activity, elapsedSeconds) => {\n        const timeStr = `${Math.floor(elapsedSeconds / 60)}:${(elapsedSeconds % 60).toString().padStart(2, '0')}`;\n        const details = `Paused timer for \"${activity.name}\" at ${timeStr}`;\n\n        return addLog('timer_paused', details, {\n            activityId: activity.id,\n            activityName: activity.name,\n            elapsedSeconds\n        });\n    }, [addLog]);\n\n    /**\n     * Add timer resume log\n     */\n    const logTimerResume = useCallback((activity) => {\n        const details = `Resumed timer for \"${activity.name}\"`;\n\n        return addLog('timer_resumed', details, {\n            activityId: activity.id,\n            activityName: activity.name\n        });\n    }, [addLog]);\n\n    /**\n     * Add balance adjustment log\n     */\n    const logBalanceAdjustment = useCallback((amount, reason) => {\n        const details = `Manual balance adjustment: ${amount > 0 ? '+' : ''}${Math.round(amount * 100) / 100} pts${reason ? ` (${reason})` : ''}`;\n\n        return addLog('balance_adjusted', details, {\n            amount,\n            reason\n        });\n    }, [addLog]);\n\n    /**\n     * Add activity creation log\n     */\n    const logActivityCreated = useCallback((activity) => {\n        const rateInfo = activity.mode === 'single'\n            ? `${activity.points} pts`\n            : `${activity.rate} pts/min`;\n\n        const details = `Created new ${activity.type} activity: \"${activity.name}\" (${rateInfo})`;\n\n        return addLog('activity_created', details, {\n            activityId: activity.id,\n            activityName: activity.name,\n            activityType: activity.type,\n            activityMode: activity.mode,\n            rate: activity.rate || null,\n            points: activity.points || null\n        });\n    }, [addLog]);\n\n    /**\n     * Add activity edited log\n     */\n    const logActivityEdited = useCallback((activity, oldValues) => {\n        const changes = [];\n        if (oldValues.name !== activity.name) changes.push(`name: \"${oldValues.name}\" → \"${activity.name}\"`);\n        if (oldValues.type !== activity.type) changes.push(`type: ${oldValues.type} → ${activity.type}`);\n        if (oldValues.rate !== activity.rate) changes.push(`rate: ${oldValues.rate} → ${activity.rate}`);\n        if (oldValues.points !== activity.points) changes.push(`points: ${oldValues.points} → ${activity.points}`);\n\n        const details = `Edited \"${activity.name}\": ${changes.join(', ')}`;\n\n        return addLog('activity_edited', details, {\n            activityId: activity.id,\n            activityName: activity.name,\n            changes: changes\n        });\n    }, [addLog]);\n\n    /**\n     * Add activity deletion log\n     */\n    const logActivityDeleted = useCallback((activity) => {\n        const details = `Deleted activity: \"${activity.name}\"`;\n\n        return addLog('activity_deleted', details, {\n            activityId: activity.id,\n            activityName: activity.name,\n            activityType: activity.type\n        });\n    }, [addLog]);\n\n    /**\n     * Edit a log entry (for adjusting points)\n     */\n    const editLogEntry = useCallback((logId, newPointsEarned, newElapsedSeconds = null) => {\n        setLogs(prev => prev.map(log => {\n            if (log.id === logId && log.metadata.editable) {\n                const updatedMetadata = {\n                    ...log.metadata,\n                    pointsEarned: newPointsEarned,\n                    pointsAdjusted: true,\n                    adjustmentTimestamp: new Date().toISOString()\n                };\n\n                if (newElapsedSeconds !== null) {\n                    updatedMetadata.elapsedSeconds = newElapsedSeconds;\n                    updatedMetadata.timeAdjusted = true;\n                }\n\n                // Update the details string to reflect the new points\n                const activity = { name: log.metadata.activityName };\n                const timeStr = newElapsedSeconds !== null\n                    ? `${Math.floor(newElapsedSeconds / 60)}:${(newElapsedSeconds % 60).toString().padStart(2, '0')}`\n                    : `${Math.floor(log.metadata.elapsedSeconds / 60)}:${(log.metadata.elapsedSeconds % 60).toString().padStart(2, '0')}`;\n\n                let newDetails;\n                if (log.action === 'timer_session') {\n                    const startDate = new Date(log.metadata.startTime);\n                    const endDate = new Date(log.metadata.endTime);\n                    newDetails = `Timer session: \"${activity.name}\" - ${timeStr} (${startDate.toLocaleTimeString()} to ${endDate.toLocaleTimeString()}) for ${newPointsEarned > 0 ? '+' : ''}${Math.round(newPointsEarned * 100) / 100} pts ${updatedMetadata.pointsAdjusted ? '[EDITED]' : ''}`;\n                } else {\n                    newDetails = log.metadata.activityMode === 'single'\n                        ? `Completed \"${activity.name}\" for ${newPointsEarned > 0 ? '+' : ''}${Math.round(newPointsEarned * 100) / 100} pts ${updatedMetadata.pointsAdjusted ? '[EDITED]' : ''}`\n                        : `Completed \"${activity.name}\" in ${timeStr} for ${newPointsEarned > 0 ? '+' : ''}${Math.round(newPointsEarned * 100) / 100} pts ${updatedMetadata.pointsAdjusted ? '[EDITED]' : ''}`;\n                }\n\n                return {\n                    ...log,\n                    details: newDetails,\n                    metadata: updatedMetadata\n                };\n            }\n            return log;\n        }));\n\n        // Log the edit action\n        return addLog('log_edited', `Adjusted points for previous activity (${newPointsEarned > 0 ? '+' : ''}${Math.round(newPointsEarned * 100) / 100} pts)`, {\n            originalLogId: logId,\n            newPointsEarned,\n            newElapsedSeconds\n        });\n    }, [addLog]);\n\n    /**\n     * Clear all logs\n     */\n    const clearLogs = useCallback(() => {\n        setLogs([]);\n        return addLog('logs_cleared', 'All logs cleared');\n    }, [addLog]);\n\n    /**\n     * Get logs by action type\n     */\n    const getLogsByAction = useCallback((action) => {\n        return logs.filter(log => log.action === action);\n    }, [logs]);\n\n    /**\n     * Get logs by date range\n     */\n    const getLogsByDateRange = useCallback((startDate, endDate) => {\n        return logs.filter(log => {\n            const logDate = new Date(log.timestamp);\n            return logDate >= startDate && logDate <= endDate;\n        });\n    }, [logs]);\n\n    /**\n     * Get logs for specific activity\n     */\n    const getLogsForActivity = useCallback((activityId) => {\n        return logs.filter(log =>\n            log.metadata && log.metadata.activityId === activityId\n        );\n    }, [logs]);\n\n    /**\n     * Get recent logs (last N entries)\n     */\n    const getRecentLogs = useCallback((count = 50) => {\n        return logs.slice(0, count);\n    }, [logs]);\n\n    /**\n     * Get logs statistics\n     */\n    const getLogStats = useCallback(() => {\n        const actionCounts = {};\n        logs.forEach(log => {\n            actionCounts[log.action] = (actionCounts[log.action] || 0) + 1;\n        });\n\n        const totalCompletions = actionCounts.activity_completed || 0;\n        const totalTimerStarts = actionCounts.timer_started || 0;\n\n        return {\n            totalLogs: logs.length,\n            actionCounts,\n            totalCompletions,\n            totalTimerStarts,\n            oldestLog: logs.length > 0 ? logs[logs.length - 1].timestamp : null,\n            newestLog: logs.length > 0 ? logs[0].timestamp : null\n        };\n    }, [logs]);\n\n    /**\n     * Export logs as JSON\n     */\n    const exportLogs = useCallback(() => {\n        return {\n            exportDate: new Date().toISOString(),\n            totalLogs: logs.length,\n            logs: logs\n        };\n    }, [logs]);\n\n    return {\n        logs,\n        addLog,\n        logActivityCompletion,\n        logTimerSession,\n        logTimerStart,\n        logTimerPause,\n        logTimerResume,\n        logBalanceAdjustment,\n        logActivityCreated,\n        logActivityEdited,\n        logActivityDeleted,\n        editLogEntry,\n        clearLogs,\n        getLogsByAction,\n        getLogsByDateRange,\n        getLogsForActivity,\n        getRecentLogs,\n        getLogStats,\n        exportLogs,\n        setLogs\n    };\n}","import React from 'react'\nimport ReactDOM from 'react-dom/client'\nimport App from './App'\nimport './index.css'\n\n// Create root and render app\nReactDOM.createRoot(document.getElementById('root')).render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>\n)\n\n// Service worker management\nif ('serviceWorker' in navigator) {\n  if (import.meta.env.PROD) {\n    // Register service worker only in production\n    window.addEventListener('load', () => {\n      navigator.serviceWorker.register('/sw.js')\n        .then((registration) => {\n          console.log('SW registered: ', registration);\n        })\n        .catch((registrationError) => {\n          console.log('SW registration failed: ', registrationError);\n        });\n    });\n  } else {\n    // In development, unregister any existing service workers to prevent caching issues\n    window.addEventListener('load', () => {\n      navigator.serviceWorker.getRegistrations().then(function(registrations) {\n        for(let registration of registrations) {\n          registration.unregister().then(() => {\n            console.log('SW unregistered for development');\n          });\n        }\n      });\n    });\n  }\n}"],"names":["f","require$$0","k","Symbol","for","l","m","Object","prototype","hasOwnProperty","n","__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED","ReactCurrentOwner","p","key","ref","__self","__source","q","c","a","g","b","d","e","h","call","defaultProps","$$typeof","type","props","_owner","current","reactJsxRuntime_production_min","jsx","jsxs","jsxRuntimeModule","exports","client","createRoot","hydrateRoot","Play","size","width","height","viewBox","fill","children","points","Pause","x","y","RotateCcw","stroke","strokeWidth","Trash2","x1","y1","x2","y2","Plus","Edit2","Check","X","Moon","Sun","cx","cy","r","Eye","EyeOff","ActivityItem","activity","isActive","isRunning","isPaused","isEditing","editValues","onStartTimer","onDelete","onEdit","onSaveEdit","onCancelEdit","onEditChange","darkMode","className","value","name","onChange","target","mode","parseInt","min","step","rate","parseFloat","checked","isCountdown","id","htmlFor","onClick","Fragment","TimerDisplay","displayTime","elapsedTime","onPause","onResume","onStop","onReset","actualElapsedTime","pointsEarned","Math","round","pointsSign","formatTime","SUGGESTED_ACTIVITIES","DEFAULT_NEW_ACTIVITY","TIMER_MODES","ACTIVITY_TYPES","AddActivityForm","newActivity","onActivityChange","onAdd","onCancel","onAddSuggested","onSubmit","preventDefault","trim","placeholder","autoFocus","map","idx","EditForm","log","logEditForm","setLogEditForm","handleSaveLogEdit","handleCancelLogEdit","newElapsedSeconds","minutes","seconds","newPoints","metadata","activityMode","activityType","basePoints","activityName","prev","__spreadProps","__spreadValues","max","onFocus","select","floor","toString","padStart","SettingsModal","isOpen","onClose","balance","logs","onBalanceAdjustment","onClearLogs","onClearCache","onWipeData","onEditLog","settingsTab","setSettingsTab","useState","balanceAdjustment","setBalanceAdjustment","amount","reason","showConfirm","setShowConfirm","editingLog","setEditingLog","find","stopPropagation","label","length","tab","isNaN","slice","isEditable","_a","editable","action","elapsedSeconds","handleEditLog","Date","timestamp","toLocaleTimeString","details","startTime","endTime","wasCountdown","pointsAdjusted","handleConfirm","AboutModal","onShowOnboarding","isFirstVisit","localStorage","setItem","OnboardingModal","handleClose","useActivities","initialActivities","initialBalance","activities","setActivities","setBalance","addActivity","useCallback","activityData","now","random","updateActivity","activityId","updates","deleteActivity","filter","getActivity","addSuggestedActivity","suggestedActivity","completeActivity","calculateBalanceChange","adjustBalance","resetBalance","sortActivities","sortBy","sorted","sort","localeCompare","aValue","getActivitiesByType","getActivitiesByMode","isActivityNameTaken","excludeId","some","toLowerCase","getAvailableSuggestions","existingNames","includes","suggested","importActivities","importedActivities","newActivities","exportActivities","_b","__objRest","clearAllActivities","getActivityStats","creditActivities","debitActivities","timerActivities","singleActivities","total","credit","debit","timer","single","averageRate","reduce","sum","averagePoints","androidAPI","constructor","this","isAndroid","window","AndroidAPI","isAvailable","playSound","error","console","stopSound","vibrate","duration","vibratePattern","pattern","scheduleTimerAlarm","durationMillis","cancelTimerAlarm","cancelAllTimerAlarms","activityIds","playCompletionAlert","playStartAlert","useAppPreferences","toggleDarkMode","setDarkMode","loadDarkMode","newValue","saveDarkMode","useDarkMode","hideBalance","toggleHideBalance","setHideBalance","loadHideBalance","saveHideBalance","useHideBalance","App","isLoaded","saveState","loadState","setIsLoaded","useEffect","runningTimers","data","lastSaved","saveAppData","loadAppData","createAutoSave","timeoutId","clearTimeout","setTimeout","useLocalStorage","initialData","setInitialData","timerDisplays","startTimer","pauseTimer","resumeTimer","resetTimer","stopTimer","getDisplayTime","isTimerRunning","isTimerPaused","isTimerActive","getElapsedTime","setRunningTimers","setTimerDisplays","intervalRef","useRef","setInterval","currentTimers","newDisplays","entries","forEach","calculateElapsedTime","pausedElapsed","remainingSeconds","calculateCountdownTime","totalSeconds","isTimerComplete","clearInterval","newTimers","stopAllTimers","keys","isCountdownComplete","useTimers","logActivityCompletion","logTimerSession","logTimerStart","logTimerPause","logTimerResume","logBalanceAdjustment","logActivityCreated","logActivityEdited","logActivityDeleted","editLogEntry","clearLogs","setLogs","initialLogs","addLog","logEntry","toISOString","startDate","endDate","timeStr","originalPointsEarned","rateInfo","oldValues","changes","push","join","logId","newPointsEarned","updatedMetadata","adjustmentTimestamp","timeAdjusted","newDetails","originalLogId","getLogsByAction","getLogsByDateRange","logDate","getLogsForActivity","getRecentLogs","count","getLogStats","actionCounts","totalCompletions","activity_completed","totalTimerStarts","timer_started","totalLogs","oldestLog","newestLog","exportLogs","exportDate","useLogs","editingId","setEditingId","setEditValues","showAddForm","setShowAddForm","setNewActivity","showSettings","setShowSettings","showAbout","setShowAbout","showOnboarding","setShowOnboarding","showAboutOnFirstVisit","setShowAboutOnFirstVisit","getItem","setSortBy","completionAlert","setCompletionAlert","countdownPrompt","setCountdownPrompt","handleCompleteTimer","handleEditActivity","handleSaveEdit","oldActivity","handleCancelEdit","handleDeleteActivity","handleEditChange","field","handleStartTimer","elapsed","hours","handleCompleteSingleActivity","timeSpent","actsList","activeTimers","Number","title","handlePauseTimer","handleResumeTimer","handleResetTimer","originalLog","pointsDifference","formatPoints","ReactDOM","document","getElementById","render","React","StrictMode","navigator","addEventListener","serviceWorker","register","then","registration","catch","registrationError"],"mappings":"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","x_google_ignoreList":[0,1,2]}